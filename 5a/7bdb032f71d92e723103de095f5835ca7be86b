From: Hellwig.Geisse@mni.fh-giessen.de (Hellwig.Geisse@mni.fh-giessen.de)
Date: Mon, 19 Jul 2004 20:56:43 +0200 (CEST)
Subject: [TUHS] Lions' V6 source code
In-Reply-To: <20040719121539.5ee28b65.macbiesz@optonline.net>
Message-ID: <XFMail.20040719205643.Hellwig.Geisse@mni.fh-giessen.de>

Hi Maciek,

a while ago you asked me some questions about extracting V7 files. I answered
your mail the next day, and some days later wrote you another one, asking how
you progressed, but for one reason or another never got an answer from you.
So I suspect that my mail was blocked, perhaps by your spam filter. I therefore
repeat the text here on the mailing list. All other readers, please excuse...

I guess you are using my package "unix-v7-3", utility "exfs" in directory
"extract". Usage is "exfs <disk image> <fs start block> <directory name>",
as you can see when executing the extractor without any arguments.

<disk image> is the name of a file in the host environment (e.g., Linux)
which holds a binary image of a PDP-11 disk, preferrably an RP04 (I have
only tested the extractor with this disk). Such an image is best generated
by running the PDP11 simulator.

<fs start block> is the number of the (raw) disk block where the partition
starts from where you want to extract the file system (yes - even these old
systems had disk partitions, but the sizes were hard-coded within the disk
driver). If you have the disk image of an RP04 disk generated by UNIX V7
then you can look up the partitioning in the file "parts.txt", also in the
"extract" subdirectory. The number listed in column "start" is the start
block of the file system. BTW, do not expect to get something useful
extracted from a swap partition - these partitions are not regular file
systems.

<directory name> is the name of the destination directory in the host
environment to which the extracted file system will be copied.

The error "unknown inode type" that you got means that the extractor
tried to analyze the inode part of the file system and could not identify
the type of an inode (regular/directory/block or character special file).
This indeed can be the result of an incorrect start block specification:
some block which is not an inode block is interpreted as containing inodes,
which fails horribly.

I hope that helps. It is nice to see that there is actually anyone
working with this stuff, so feel free to ask if you have further
questions.

Regards,
Hellwig

----------------------------------
E-Mail: Hellwig.Geisse at mni.fh-giessen.de
Date: 19-Jul-2004
Time: 20:40:50

This message was sent by XFMail
----------------------------------

