X-Spam-Checker-Version: SpamAssassin 3.4.4 (2020-01-24) on inbox.vuxu.org
X-Spam-Level: 
X-Spam-Status: No, score=-1.1 required=5.0 tests=DKIM_SIGNED,DKIM_VALID,
	DKIM_VALID_AU,HTML_MESSAGE,MAILING_LIST_MULTI,RCVD_IN_DNSWL_NONE
	autolearn=ham autolearn_force=no version=3.4.4
Received: (qmail 27075 invoked from network); 28 Jul 2020 03:23:40 -0000
Received: from minnie.tuhs.org (45.79.103.53)
  by inbox.vuxu.org with ESMTPUTF8; 28 Jul 2020 03:23:40 -0000
Received: by minnie.tuhs.org (Postfix, from userid 112)
	id 5DDBB9CAAD; Tue, 28 Jul 2020 13:23:39 +1000 (AEST)
Received: from minnie.tuhs.org (localhost [127.0.0.1])
	by minnie.tuhs.org (Postfix) with ESMTP id 309939C8E8;
	Tue, 28 Jul 2020 13:22:42 +1000 (AEST)
Authentication-Results: minnie.tuhs.org;
	dkim=pass (1024-bit key; unprotected) header.d=ccc.com header.i=@ccc.com header.b="CKowjkrx";
	dkim-atps=neutral
Received: by minnie.tuhs.org (Postfix, from userid 112)
 id 9214D9C8E4; Tue, 28 Jul 2020 13:21:03 +1000 (AEST)
Received: from mail-qt1-f169.google.com (mail-qt1-f169.google.com
 [209.85.160.169])
 by minnie.tuhs.org (Postfix) with ESMTPS id B67339C8E2
 for <tuhs@minnie.tuhs.org>; Tue, 28 Jul 2020 13:20:59 +1000 (AEST)
Received: by mail-qt1-f169.google.com with SMTP id w9so13924213qts.6
 for <tuhs@minnie.tuhs.org>; Mon, 27 Jul 2020 20:20:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ccc.com; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc; bh=6cRjuGpQsJE6Jqsz1USAgBRubBK113Uszvtp8CyC29E=;
 b=CKowjkrx+jGfYH5YskKOOD+ZSjRW5lhS9uE0/NmAPjqsO52nEgJE9O3kcnNnzIYtj+
 ucqjoR408Vl8XrhPgeC7Fqp/g7Vq2Nmn/JR5C4eyssLlI9tw00fSFuQcWmTPUC0wl7y7
 r/jWpq12vKR7xzz8uNzd1fDLBHLxK5II7kwZ4=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=6cRjuGpQsJE6Jqsz1USAgBRubBK113Uszvtp8CyC29E=;
 b=Bvjh+b2PjZ3S9VqfWcvHMBow5WFeWWfHKI/OPOcJnLukWKi82NgNdl7h9zqzPxHB5O
 DA39d5IQhcuiQtYNvKTPoqEvndofSViKmbmRxiQUh9/dGSsm1tqyIsg+S9l3L7RZ5UA2
 IbN2bsXX/evF+IFiTr39AFw9pYsm3Zudu4Z3pkEfCyd/MURbDmFu/p95fJrZZQnCZ++6
 AY1DJqBMobdcSREeWHcUybZesouv4R9xGgQpUvD5AKQr0xr+rultIp9ZdPTqn6ZfF4C2
 4gXKrqLNtPxnjs3txIMpD5F2+/CyknrnWh4h8SzolMqZuHAk4RDF1nAnPwGrK16b5d/Y
 NApA==
X-Gm-Message-State: AOAM531tGNcPqYveD/FpyTxPL4cFqURzGfVPtosDHSeAWJoI0WHzGJ07
 yKdHH6Ag9HUvLf1A3Q07P9+ixl7QlC+HVIiD6ORLGhaeDrQ=
X-Google-Smtp-Source: ABdhPJxJgC1hkG9SNcQ+N6OPO0imKfO6G5GAG+5E5lW1wdTcrIbh5Ug0qTvSfIOe1NdzRsLkTeNPDVe5gnBT93GcePc=
X-Received: by 2002:ac8:1948:: with SMTP id g8mr25677443qtk.354.1595906457979; 
 Mon, 27 Jul 2020 20:20:57 -0700 (PDT)
MIME-Version: 1.0
References: <df55323f-a661-a4d6-3290-3224d064aaef@gmail.com>
 <CAC20D2PcpmUN87dM_Ncu_5pV95j23uHZRdvb=HwiOrY8K55pbQ@mail.gmail.com>
 <bcc34a7a-c2dd-53eb-9559-1ab2e0cf3762@gmail.com>
In-Reply-To: <bcc34a7a-c2dd-53eb-9559-1ab2e0cf3762@gmail.com>
From: Clem Cole <clemc@ccc.com>
Date: Mon, 27 Jul 2020 23:20:31 -0400
Message-ID: <CAC20D2N8p544V4cx5xVd_3QHk7LJw5ct7P152GxeZcz2SPKNRg@mail.gmail.com>
To: Will Senn <will.senn@gmail.com>
Content-Type: multipart/alternative; boundary="00000000000085e46105ab77ed91"
Subject: Re: [TUHS] v7 tar and 2bsd.tar
X-BeenThere: tuhs@minnie.tuhs.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: The Unix Heritage Society mailing list <tuhs.minnie.tuhs.org>
List-Unsubscribe: <https://minnie.tuhs.org/cgi-bin/mailman/options/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=unsubscribe>
List-Archive: <http://minnie.tuhs.org/pipermail/tuhs/>
List-Post: <mailto:tuhs@minnie.tuhs.org>
List-Help: <mailto:tuhs-request@minnie.tuhs.org?subject=help>
List-Subscribe: <https://minnie.tuhs.org/cgi-bin/mailman/listinfo/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=subscribe>
Cc: TUHS main list <tuhs@minnie.tuhs.org>
Errors-To: tuhs-bounces@minnie.tuhs.org
Sender: "TUHS" <tuhs-bounces@minnie.tuhs.org>

--00000000000085e46105ab77ed91
Content-Type: text/plain; charset="UTF-8"

below..

On Mon, Jul 27, 2020 at 11:02 PM Will Senn <will.senn@gmail.com> wrote:

> On 7/27/20 8:14 PM, Clem Cole wrote:
>
> on v7:  dd if=/dev/rrkN of=ucbtar bs=1        <-- this should pull the
> binary with the padded last block in
>
> ouch my screw up...  should be 1b

>
> Your instructions held up until I tried to read from the rk device -
> here's my attach:
>
> in simh:
> set rk0 rk05

att rk0 ucbtar
>
This is what I have:
; RK05 data disks (4 drives)...
;; SET RK ENABLE
SET RK0 WRITEENABLED
SET RK1 WRITEENABLED
SET RK2 WRITEENABLED
SET RK3 WRITEENABLED
SET RK4 DISABLED
SET RK5 DISABLED
SET RK6 DISABLED
SET RK7 DISABLED
ATTACH RK0 ./scratch.rk05
SHOW RK


>
> then in v7 the rk's aren't in /dev, so:
>
there is a makefile in /dev that creates them.  Take a look and see what
its doing.

looked in c.c, rk is major dev 0, and rrk is dev 9, so...
> /etc/mknod /dev/rk0 b 0 0
> /etc/mknod /dev/rrk0 c 9 0
> chmod 640 /dev/*rk*
>
> and
> dd if=/dev/rrk0 of=ucbtar bs=1
>
bs=1b   sorry -- my error, but I don't think that's the issue.
try this for grins:  dd if=/dev/rrk0 of=/dev/null bs=1b

cannot open: /dev/rrk0
>
Hmm... be good to see what the errno value is, i.e. why?
Maybe a small C program that tries to open /dev/rrk0 and prints out errno
on failure.

--00000000000085e46105ab77ed91
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div dir=3D"ltr"><div class=3D"gmail_default" style=3D"fon=
t-family:arial,helvetica,sans-serif"><font color=3D"#0000ff">below..</font>=
</div></div><br><div class=3D"gmail_quote"><div dir=3D"ltr" class=3D"gmail_=
attr">On Mon, Jul 27, 2020 at 11:02 PM Will Senn &lt;<a href=3D"mailto:will=
.senn@gmail.com">will.senn@gmail.com</a>&gt; wrote:<br></div><blockquote cl=
ass=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left:1px solid=
 rgb(204,204,204);padding-left:1ex">
 =20
   =20
 =20
  <div>
    <div>On 7/27/20 8:14 PM, Clem Cole wrote:<br>
    </div>
    <blockquote type=3D"cite">
      <div style=3D"font-family:arial,helvetica,sans-serif">on v7:=C2=A0 dd
        if=3D/dev/rrkN of=3Ducbtar bs=3D<span class=3D"gmail_default" style=
=3D"font-family:arial,helvetica,sans-serif">1</span>=C2=A0 =C2=A0 =C2=A0 =
=C2=A0 &lt;-- this should pull the
        binary=C2=A0with the padded last block in</div></blockquote></div><=
/blockquote><div><font color=3D"#0000ff"><span class=3D"gmail_default" styl=
e=3D"font-family:arial,helvetica,sans-serif">ouch my screw up...=C2=A0 shou=
ld be 1b</span>=C2=A0=C2=A0</font></div><blockquote class=3D"gmail_quote" s=
tyle=3D"margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);pad=
ding-left:1ex"><blockquote type=3D"cite">
      <div style=3D"font-family:arial,helvetica,sans-serif"><br>
      </div>
    </blockquote>
    <font face=3D"Helvetica, Arial, sans-serif">Your instructions held up
      until I tried to read from the rk device - here&#39;s my attach:<br>
      <br>
      in simh:<br>
      set rk0 rk05</font></blockquote><blockquote class=3D"gmail_quote" sty=
le=3D"margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);paddi=
ng-left:1ex"><div><font face=3D"Helvetica, Arial, sans-serif">
      att rk0 ucbtar<br></font></div></blockquote><div><span class=3D"gmail=
_default" style=3D"font-family:arial,helvetica,sans-serif"><font color=3D"#=
0000ff">This is what I have:</font></span></div><div><span class=3D"gmail_d=
efault" style=3D"font-family:arial,helvetica,sans-serif"><font color=3D"#00=
00ff">; RK05 data disks (4 drives)...<br>;; SET RK ENABLE<br>SET RK0 WRITEE=
NABLED<br>SET RK1 WRITEENABLED<br>SET RK2 WRITEENABLED<br>SET RK3 WRITEENAB=
LED<br>SET RK4 DISABLED<br>SET RK5 DISABLED<br>SET RK6 DISABLED<br>SET RK7 =
DISABLED<br>ATTACH RK0 ./scratch.rk05<br>SHOW RK<br></font></span></div><di=
v><font color=3D"#0000ff"><span class=3D"gmail_default" style=3D"font-famil=
y:arial,helvetica,sans-serif"></span>=C2=A0</font></div><blockquote class=
=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left:1px solid rg=
b(204,204,204);padding-left:1ex"><div><font face=3D"Helvetica, Arial, sans-=
serif">
      <br>
      then in v7 the rk&#39;s aren&#39;t in /dev, so:<br></font></div></blo=
ckquote><div><font color=3D"#0000ff"><span class=3D"gmail_default" style=3D=
"font-family:arial,helvetica,sans-serif">there is a makefile in /dev that c=
reates them.=C2=A0 Take a look and see what its doing.</span>=C2=A0</font><=
/div><div><font color=3D"#0000ff"><br></font></div><blockquote class=3D"gma=
il_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,2=
04,204);padding-left:1ex"><div>looked in c.c, rk is major dev 0, and rrk is=
 dev 9, so...<br>
    /etc/mknod /dev/rk0 b 0 0<br>
    /etc/mknod /dev/rrk0 c 9 0<br>
    chmod 640 /dev/*rk*<br>
    <br>
    and<br>
    dd if=3D/dev/rrk0 of=3Ducbtar bs=3D1<br></div></blockquote><div><font c=
olor=3D"#0000ff"><span class=3D"gmail_default" style=3D"font-family:arial,h=
elvetica,sans-serif">bs=3D1b =C2=A0 sorry -- my error, but I don&#39;t thin=
k that&#39;s the issue.</span>=C2=A0</font></div><div><font color=3D"#0000f=
f">t<span class=3D"gmail_default" style=3D"font-family:arial,helvetica,sans=
-serif">ry this for grins:=C2=A0 </span>dd if=3D/dev/rrk0 of=3D<span class=
=3D"gmail_default" style=3D"font-family:arial,helvetica,sans-serif">/dev/nu=
ll bs=3D1b</span></font></div><div><br></div><blockquote class=3D"gmail_quo=
te" style=3D"margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204=
);padding-left:1ex"><div>
    cannot open: /dev/rrk0<br></div></blockquote><div><div class=3D"gmail_d=
efault" style=3D"font-family:arial,helvetica,sans-serif"><font color=3D"#00=
00ff">Hmm... be good to see what the errno value is, i.e. why?</font></div>=
<div class=3D"gmail_default" style=3D"font-family:arial,helvetica,sans-seri=
f"><font color=3D"#0000ff">Maybe a small C program that tries to open /dev/=
rrk0 and prints out errno on failure.</font></div></div><div><br></div><blo=
ckquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left=
:1px solid rgb(204,204,204);padding-left:1ex"><div>
  </div>

</blockquote></div></div>

--00000000000085e46105ab77ed91--
