From: wkt@minnie.tuhs.org (Warren Toomey)
Date: Tue, 19 Feb 2002 17:06:58 +1000 (EST)
Subject: [TUHS] v7 upgrade
In-Reply-To: <3C71CF44.18D0BDA1@zip.com.au> from Rhys Weatherley at "Feb 19,
 2002 02:06:28 pm"
Message-ID: <200202190706.g1J76wG51094@minnie.tuhs.org>

In article by Rhys Weatherley:
> On a lark, I downloaded the v7 sources and started to
> "upgrade" them so the userland can build and run on top
> of modern OS kernels such as Linux.  The bulk of libc
> is the same (warts and all), with the "sys" layer replaced
> with modern syscalls.
> 
> Perhaps it is a bit "sacrilegious", but I believe it makes
> the code more accessible for experimentation, and it
> should solve the "how do we get a PDP-11 compiler"
> problem: we use the original hosted on top of a modern
> kernel as a cross-compiler.

Hi Rhys, just looked at your page. I liked the comment:

  Using these libraries, it is possible to port and run the old v7 command-line
  utilities. Eventually, it should be possible to run the original PDP-11
  toolchain as a cross-compiler and hence be able to build an original v7
  system without needing to use a PDP-11 emulator to run the old binaries.

Strangely enough, I took a slightly different tack than you did to obtain
the same result. Have a look at Apout at
ftp://minnie.tuhs.org/pub/PDP-11/Sims/Apout/README

8-)
	Warren


