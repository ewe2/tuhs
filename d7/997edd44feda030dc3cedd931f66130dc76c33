X-Spam-Checker-Version: SpamAssassin 3.4.4 (2020-01-24) on inbox.vuxu.org
X-Spam-Level: 
X-Spam-Status: No, score=-5.3 required=5.0 tests=DKIM_SIGNED,DKIM_VALID,
	DKIM_VALID_AU,FREEMAIL_FROM,HTML_MESSAGE,MAILING_LIST_MULTI,
	NICE_REPLY_A autolearn=ham autolearn_force=no version=3.4.4
Received: (qmail 2124 invoked from network); 14 Jan 2022 14:26:10 -0000
Received: from minnie.tuhs.org (45.79.103.53)
  by inbox.vuxu.org with ESMTPUTF8; 14 Jan 2022 14:26:10 -0000
Received: by minnie.tuhs.org (Postfix, from userid 112)
	id 769639D4BD; Sat, 15 Jan 2022 00:26:09 +1000 (AEST)
Received: from minnie.tuhs.org (localhost [127.0.0.1])
	by minnie.tuhs.org (Postfix) with ESMTP id C8B599D06B;
	Sat, 15 Jan 2022 00:25:53 +1000 (AEST)
Authentication-Results: minnie.tuhs.org;
	dkim=pass (2048-bit key; unprotected) header.d=gmail.com header.i=@gmail.com header.b="X57fzBrf";
	dkim-atps=neutral
Received: by minnie.tuhs.org (Postfix, from userid 112)
 id 870899D06B; Sat, 15 Jan 2022 00:25:51 +1000 (AEST)
Received: from mail-ot1-f54.google.com (mail-ot1-f54.google.com
 [209.85.210.54])
 by minnie.tuhs.org (Postfix) with ESMTPS id B76579CFC6
 for <tuhs@tuhs.org>; Sat, 15 Jan 2022 00:25:50 +1000 (AEST)
Received: by mail-ot1-f54.google.com with SMTP id
 t6-20020a9d7746000000b005917e6b96ffso10205926otl.7
 for <tuhs@tuhs.org>; Fri, 14 Jan 2022 06:25:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20210112;
 h=message-id:date:mime-version:user-agent:subject:content-language:to
 :references:from:in-reply-to;
 bh=QCcVVRRDfLnuzMFzZVHHecfm+eW5DTawjGcztzeEnOo=;
 b=X57fzBrfvilLinbKmBaLdHNaNRQx8nUYrCMCNcKY6u8fjhCW7NuLahOdzAfdAzwsiA
 QyZrtksHrfOSnYi2fPN4IrIyngtNhW4ATZuygPWr8pJNeDum82FHQGlfNNF/k7mAqsVs
 voSCstf0ZSga0m8HTX8+gCRHN+qHZPN9sdgqzN1GdhO44Au23Mr75KN5xCjRegULOlyL
 ib0ucsdR89p3imw3SdxQHn0a9j3NOXZ+ZIeth5qIlYe8l76I9p6X/pv6/aalwuhX4VRT
 TCUfj5uYGdFpabpxen5wXnZKKgc+seYps2ix0OiAJdU9eKiZFmMFkzUM30Hhap28rmcE
 FNDA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:message-id:date:mime-version:user-agent:subject
 :content-language:to:references:from:in-reply-to;
 bh=QCcVVRRDfLnuzMFzZVHHecfm+eW5DTawjGcztzeEnOo=;
 b=iCz3bxcpXQIemcby1MMeH/tQEHhHOAz4V0czYnsJVJc0dxmsMPidYp4kmQBpQ5lIWK
 t77pUigDFJUBJU+uyqTkYuxblXoPzgj1rNdb+TV/kzp2Or+MNEVHWN78z5ckc9kWk5XX
 BLHx/iFShLyZGF3X91rXRVfmQgFEmgdhdXDK1DDXV32hXhfHCw6YYkpLxFjhWf1s693X
 8pS8Rs5HJ0srqVpGo/qu1z0IJ052Kf3z9zsxMJBz2TBKUxW+VwJbu2k1yneBZiHfOX7i
 jHZ51ODq/+EWksuN38DElgLCArM/TnwXkKb20IaFQJ6GVGKbLnvVuJpUqnimL94uf3b9
 i0AQ==
X-Gm-Message-State: AOAM5331o9CTWjqn6qAZYln4ZOtFmvvK46Vf18jl5vF5fTXfJo7A7hEw
 p/vefuDZ+BIFwhJi+TJfgF6ChfJlhKE=
X-Google-Smtp-Source: ABdhPJzLKzvCYwPFoer+9fL4VLrEmoXGl3Cws2XSm/LL/dMljK++cFW6266K1nMdmBA8TYtp0OtdlA==
X-Received: by 2002:a05:6830:2b0f:: with SMTP id
 l15mr7247302otv.42.1642170350018; 
 Fri, 14 Jan 2022 06:25:50 -0800 (PST)
Received: from [10.8.0.2] ([185.247.70.125])
 by smtp.gmail.com with ESMTPSA id k33sm1830108ooi.5.2022.01.14.06.25.49
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Fri, 14 Jan 2022 06:25:49 -0800 (PST)
Content-Type: multipart/alternative;
 boundary="------------5XC7sDosVjFplFauU7OcArAt"
Message-ID: <99de2f21-6c29-4156-efc6-98ea83d391fc@gmail.com>
Date: Fri, 14 Jan 2022 08:25:48 -0600
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:91.0)
 Gecko/20100101 Thunderbird/91.5.0
Content-Language: en-US
To: Angelo Papenhoff <aap@papnet.eu>, tuhs@tuhs.org
References: <20220114130752.32F0218C090@mercury.lcs.mit.edu>
 <YeF6XymuCj2KgHAa@indra.papnet.eu>
From: Will Senn <will.senn@gmail.com>
In-Reply-To: <YeF6XymuCj2KgHAa@indra.papnet.eu>
Subject: Re: [TUHS] Brian Kernighan and very early *roff history
X-BeenThere: tuhs@minnie.tuhs.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: The Unix Heritage Society mailing list <tuhs.minnie.tuhs.org>
List-Unsubscribe: <https://minnie.tuhs.org/cgi-bin/mailman/options/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=unsubscribe>
List-Archive: <http://minnie.tuhs.org/pipermail/tuhs/>
List-Post: <mailto:tuhs@minnie.tuhs.org>
List-Help: <mailto:tuhs-request@minnie.tuhs.org?subject=help>
List-Subscribe: <https://minnie.tuhs.org/cgi-bin/mailman/listinfo/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=subscribe>
Errors-To: tuhs-bounces@minnie.tuhs.org
Sender: "TUHS" <tuhs-bounces@minnie.tuhs.org>

This is a multi-part message in MIME format.
--------------5XC7sDosVjFplFauU7OcArAt
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 1/14/22 7:27 AM, Angelo Papenhoff wrote:
> On 14/01/22, Noel Chiappa wrote:
>>      > From: Angelo Papenhoff
>>
>>      > to my knowledge no troff version before the C rewrite in v7
>>
>> Apologies if I missed something, but between this list and COFF there's so
>> much low S/N traffic I skip a lot of it. Having said that, was there ever a
>> troff in assembler? I'd always had the impression that the first one was in C.
> Yes, they were both originally written in assembler. v6 has assembler
> sources for nroff and deleted directory entries of troff (and others):
>
> 00064e00: 6d01 726f 6666 332e 7300 0000 0000 0000  m.roff3.s.......
> 00064e10: 6c01 726f 6666 342e 7300 0000 0000 0000  l.roff4.s.......
> 00064e20: 6b01 726f 6666 352e 7300 0000 0000 0000  k.roff5.s.......
> 00064e30: 6a01 726f 6666 372e 7300 0000 0000 0000  j.roff7.s.......
> 00064e40: 6901 726f 6666 382e 7300 0000 0000 0000  i.roff8.s.......
> 00064e50: 0000 7375 6672 6300 0000 0000 0000 0000  ..sufrc.........
> 00064e60: 6701 7375 6674 6162 2e73 0000 0000 0000  g.suftab.s......
> 00064e70: 0000 7463 6174 7369 6d2e 7300 0000 0000  ..tcatsim.s.....
> 00064e80: 0000 7472 6300 0000 0000 0000 0000 0000  ..trc...........
> 00064e90: 0000 7472 6f66 6631 2e73 0000 0000 0000  ..troff1.s......
> 00064ea0: 0000 7472 6f66 6632 2e73 0000 0000 0000  ..troff2.s......
> 00064eb0: 0000 7472 6f66 6633 2e73 0000 0000 0000  ..troff3.s......
> 00064ec0: 0000 7472 6f66 6634 2e73 0000 0000 0000  ..troff4.s......
> 00064ed0: 0000 7472 6f66 6635 2e73 0000 0000 0000  ..troff5.s......
> 00064ee0: 0000 7472 6f66 6636 2e73 0000 0000 0000  ..troff6.s......
> 00064ef0: 0000 7472 6f66 6636 6100 0000 0000 0000  ..troff6a.......
> 00064f00: 0000 7472 6f66 6638 2e73 0000 0000 0000  ..troff8.s......
> 00064f10: 0000 7878 7878 7800 0000 0000 0000 0000  ..xxxxx.........
>
>> So that one is a "troff version before the C rewrite in .. v7", but it is in
>> C. Is that of any interest?
> Without having looked into it more than you have it looks like it is
> just an earlier version of the C code, but what I'm after is the
> original assembly.
>
> aap
I don't really know how deeply you've looked into this, but it may be of 
interest to you that Wollongong v6 on Interdata 32 has C sources for 
troff in /usr/source/troff:
http://www.bitsavers.org/bits/Interdata/32bit/unix/univWollongong_v6/interdata_v6.tar.gz

I know you're looking for assembler, but I also saw the comment "C 
rewrite in .. v7" in the message. It looks like a C version was 
available for v6. According to Miller's note:

interdata_v6.tar.gz
   a 'tar' format archive (with dates preserved) of all files as
   they would appear after installing the distribution, with source
   and documentation in /usr/source and /usr/doc respectively; note
   however that special files in /dev appear as ordinary files

The troff dir has date Jun 6, 1978. According to the readme, it was 
untested (maybe even unported?).

Will


--------------5XC7sDosVjFplFauU7OcArAt
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>
  <body>
    <div class="moz-cite-prefix">On 1/14/22 7:27 AM, Angelo Papenhoff
      wrote:<br>
    </div>
    <blockquote type="cite" cite="mid:YeF6XymuCj2KgHAa@indra.papnet.eu">
      <pre class="moz-quote-pre" wrap="">On 14/01/22, Noel Chiappa wrote:
</pre>
      <blockquote type="cite">
        <pre class="moz-quote-pre" wrap="">    &gt; From: Angelo Papenhoff

    &gt; to my knowledge no troff version before the C rewrite in v7

Apologies if I missed something, but between this list and COFF there's so
much low S/N traffic I skip a lot of it. Having said that, was there ever a
troff in assembler? I'd always had the impression that the first one was in C.
</pre>
      </blockquote>
      <pre class="moz-quote-pre" wrap="">
Yes, they were both originally written in assembler. v6 has assembler
sources for nroff and deleted directory entries of troff (and others):

00064e00: 6d01 726f 6666 332e 7300 0000 0000 0000  m.roff3.s.......
00064e10: 6c01 726f 6666 342e 7300 0000 0000 0000  l.roff4.s.......
00064e20: 6b01 726f 6666 352e 7300 0000 0000 0000  k.roff5.s.......
00064e30: 6a01 726f 6666 372e 7300 0000 0000 0000  j.roff7.s.......
00064e40: 6901 726f 6666 382e 7300 0000 0000 0000  i.roff8.s.......
00064e50: 0000 7375 6672 6300 0000 0000 0000 0000  ..sufrc.........
00064e60: 6701 7375 6674 6162 2e73 0000 0000 0000  g.suftab.s......
00064e70: 0000 7463 6174 7369 6d2e 7300 0000 0000  ..tcatsim.s.....
00064e80: 0000 7472 6300 0000 0000 0000 0000 0000  ..trc...........
00064e90: 0000 7472 6f66 6631 2e73 0000 0000 0000  ..troff1.s......
00064ea0: 0000 7472 6f66 6632 2e73 0000 0000 0000  ..troff2.s......
00064eb0: 0000 7472 6f66 6633 2e73 0000 0000 0000  ..troff3.s......
00064ec0: 0000 7472 6f66 6634 2e73 0000 0000 0000  ..troff4.s......
00064ed0: 0000 7472 6f66 6635 2e73 0000 0000 0000  ..troff5.s......
00064ee0: 0000 7472 6f66 6636 2e73 0000 0000 0000  ..troff6.s......
00064ef0: 0000 7472 6f66 6636 6100 0000 0000 0000  ..troff6a.......
00064f00: 0000 7472 6f66 6638 2e73 0000 0000 0000  ..troff8.s......
00064f10: 0000 7878 7878 7800 0000 0000 0000 0000  ..xxxxx.........

</pre>
      <blockquote type="cite">
        <pre class="moz-quote-pre" wrap="">So that one is a "troff version before the C rewrite in .. v7", but it is in
C. Is that of any interest?
</pre>
      </blockquote>
      <pre class="moz-quote-pre" wrap="">
Without having looked into it more than you have it looks like it is
just an earlier version of the C code, but what I'm after is the
original assembly.

aap
</pre>
    </blockquote>
    <font face="Helvetica, Arial, sans-serif">I don't really know how
      deeply you've looked into this, but it may be of interest to you
      that Wollongong v6 on Interdata 32 has C sources for troff in
      /usr/source/troff:<br>
<a class="moz-txt-link-freetext" href="http://www.bitsavers.org/bits/Interdata/32bit/unix/univWollongong_v6/interdata_v6.tar.gz">http://www.bitsavers.org/bits/Interdata/32bit/unix/univWollongong_v6/interdata_v6.tar.gz</a><br>
      <br>
      I know you're looking for assembler, but I also saw the comment "C
      rewrite in .. v7" in the message. It looks like a C version was
      available for v6. According to Miller's note:</font><br>
    <pre>interdata_v6.tar.gz
  a 'tar' format archive (with dates preserved) of all files as
  they would appear after installing the distribution, with source
  and documentation in /usr/source and /usr/doc respectively; note
  however that special files in /dev appear as ordinary files

</pre>
    <font face="Helvetica, Arial, sans-serif">The troff dir has date Jun
      6, 1978. According to the readme, it was untested (maybe even
      unported?).<br>
      <br>
      Will<br>
      <br>
      <br>
    </font>
  </body>
</html>

--------------5XC7sDosVjFplFauU7OcArAt--
