From: m@mbsks.franken.de (Matthias Bruestle)
Date: Tue, 7 Apr 1998 10:43:01 +0200 (MET DST)
Subject: Receipt of 12 License Details
In-Reply-To: <199804070551.PAA01173@henry.cs.adfa.oz.au> from Warren Toomey at "Apr 7, 98 03:51:21 pm"
Message-ID: <m0yMTy9-000HqDC@mbsks.franken.de>

Mahlzeit


According to Warren Toomey:
> 	I have the list of the first 12 SCO AU license holders in front of
> me. Unfortunately, I'm not one of them :-( Anyway, things are humming along.
Then you still have the chance to get AU-0. :)

> P.S Matthias has the most interesting number, AU-3B	 8-)
Because of the AT&T Unix computers?


Mahlzeit

endergone Zwiebeltuete

-- 
insanity inside

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id AAA04410
	for pups-liszt; Wed, 8 Apr 1998 00:30:51 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from mgate.nwnexus.com (beavis.nwnexus.com [206.63.63.200])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id AAA04405
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 00:30:44 +1000 (EST)
Received: from halcyon.com (blv-lx102-ip41.nwnexus.net [206.63.41.41])
	by mgate.nwnexus.com (8.8.8/8.8.8) with ESMTP id HAA12701;
	Tue, 7 Apr 1998 07:30:25 -0700
Message-ID: <352A3863.279915CF at halcyon.com>
Date: Tue, 07 Apr 1998 07:29:55 -0700
From: "David C. Jenner" <djenner@halcyon.com>
Reply-To: djenner at halcyon.com
X-Mailer: Mozilla 4.04 [en] (Win95; I)
MIME-Version: 1.0
To: wkt at cs.adfa.oz.au
CC: PDP Unix Preservation <pups at minnie.cs.adfa.oz.au>
Subject: Re: Receipt of 12 License Details
References: <199804070551.PAA01173 at henry.cs.adfa.oz.au>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

Hey, maybe you can be AU-0 after all.  That's an excellent idea!
Dave

Warren Toomey wrote:
> 
> All,
>         I have the list of the first 12 SCO AU license holders in front of
> me. Unfortunately, I'm not one of them :-( Anyway, things are humming along.
> 
> Charles, David, Doug, Ed, James, Jennine, John, Jorgen, Ken, Matthias,
> Paul P, Paul V, Steven
> 
> Cheers,
>         Warren
> 
> P.S Matthias has the most interesting number, AU-3B      8-)

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id BAA04494
	for pups-liszt; Wed, 8 Apr 1998 01:12:37 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from skatter.USask.Ca (skatter.usask.ca [128.233.14.1])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id BAA04489
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 01:12:31 +1000 (EST)
Received: from hydrus.USask.Ca (hydrus.usask.ca [128.233.14.27])
	by skatter.USask.Ca (8.8.5/8.8.5) with ESMTP id JAA21964;
	Tue, 7 Apr 1998 09:12:17 -0600 (CST)
From: Neil Johnson <neil@skatter.usask.ca>
Received: (from neil at localhost) by hydrus.USask.Ca (8.7.2/8.7.2) id JAA18391; Tue, 7 Apr 1998 09:12:14 -0600 (CST)
Date: Tue, 7 Apr 1998 09:12:14 -0600 (CST)
Message-Id: <199804071512.JAA18391 at hydrus.USask.Ca>
To: pups at minnie.cs.adfa.oz.au, wkt at cs.adfa.oz.au
Subject: Re:  Receipt of 12 License Details
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

I'm actually a bit happy to see I'm not on the list. I was
a little disappointed that only 12 people had applied given
the number of signatures on the petition.

Neil

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id IAA05735
	for pups-liszt; Wed, 8 Apr 1998 08:06:02 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from henry.cs.adfa.oz.au (henry.cs.adfa.oz.au [131.236.21.158])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id IAA05730
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 08:05:58 +1000 (EST)
Received: (from wkt at localhost) by henry.cs.adfa.oz.au (8.7.5/8.7.3) id IAA02178; Wed, 8 Apr 1998 08:07:20 +1000 (EST)
From: Warren Toomey <wkt@henry.cs.adfa.oz.au>
Message-Id: <199804072207.IAA02178 at henry.cs.adfa.oz.au>
Subject: Re: Receipt of 12 License Details
To: neil at skatter.usask.ca (Neil Johnson)
Date: Wed, 8 Apr 1998 08:07:19 +1000 (EST)
Cc: pups at minnie.cs.adfa.oz.au, wkt at cs.adfa.oz.au
In-Reply-To: <199804071512.JAA18391 at hydrus.USask.Ca> from Neil Johnson at "Apr 7, 98 09:12:14 am"
Reply-To: wkt at cs.adfa.oz.au
X-Mailer: ELM [version 2.4ME+ PL22 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

In article by Neil Johnson:
> I'm actually a bit happy to see I'm not on the list. I was
> a little disappointed that only 12 people had applied given
> the number of signatures on the petition.
> Neil

Afert sleeping on it, and inspecting the bundle of 12 from Dion yesterday,
I see the AU-12 license is dated 16th March. Now I know SCO took their
license fee from my account on the 24th of March. Therefore I suspect that
licensing haven't passed the paperwork on to Dion, for those licenses
processed after the 16th March.

This probably indicates that there are more licenses still in the works.
I should get some mail from Dion today, and I'll pass on anything relevant.

	Warren

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id IAA05854
	for pups-liszt; Wed, 8 Apr 1998 08:32:22 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from henry.cs.adfa.oz.au (henry.cs.adfa.oz.au [131.236.21.158])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id IAA05849
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 08:32:19 +1000 (EST)
Received: (from wkt at localhost) by henry.cs.adfa.oz.au (8.7.5/8.7.3) id IAA02379; Wed, 8 Apr 1998 08:33:46 +1000 (EST)
From: Warren Toomey <wkt@henry.cs.adfa.oz.au>
Message-Id: <199804072233.IAA02379 at henry.cs.adfa.oz.au>
Subject: Re: More licenses in the works
To: dionj at sco.COM (Dion Johnson)
Date: Wed, 8 Apr 1998 08:33:46 +1000 (EST)
In-Reply-To: <19980407152602.02045 at sco.com> from Dion Johnson at "Apr 7, 98 03:26:02 pm"
Reply-To: wkt at cs.adfa.oz.au
X-Mailer: ELM [version 2.4ME+ PL22 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

In article by Dion Johnson:
> I just received 12 more licenses signed by the NJ legal folks.
> But yours was not in this batch.
> I will get these copied and off to you tomorrow (I think).

Thanks Dion, I know you're working hard there. It looks like legal are
the bottleneck.

	Warren

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id NAA06652
	for pups-liszt; Wed, 8 Apr 1998 13:26:08 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from renoir.op.net (root at renoir.op.net [209.152.193.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id NAA06642
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 13:25:57 +1000 (EST)
Received: from goppelt.op.net (d-phlarc1-0e.ppp.op.net [209.152.199.78]) by renoir.op.net (o1/$Revision: 1.15 $) with SMTP id XAA26771; Tue, 7 Apr 1998 23:25:40 -0400 (EDT)
Message-Id: <199804080325.XAA26771 at renoir.op.net>
Comments: Authenticated sender is <edgee at cyberpass.net>
From: "Ed G." <edgee@cyberpass.net>
To: pups at minnie.cs.adfa.oz.au
Date: Tue, 7 Apr 1998 23:25:33 -0400
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: Re: Mag Tape Bug in Bob's Emulator?
Reply-to: edgee at cyberpass.net
CC: Warren Toomey <wkt at henry.cs.adfa.oz.au>
In-reply-to: <199804070255.MAA00874 at henry.cs.adfa.oz.au>
References: <199804070248.WAA14210 at renoir.op.net> from "Ed G." at "Apr 6, 98 10:48:17 pm"
X-mailer: Pegasus Mail for Win32 (v2.54)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> Yeah, I haven't used the tape stuff much, mainly because of the muck
> around building the pre/postambles per record.

I've got perl scripts that do this.  I'd be happy to donate them to 
the archive if you're interested.

> An alternate solution is to mount the tape image as a disk, e.g RK1
> 
> Then tar vxf /dev/rrk1	:-)

Yes, this works well for getting info into the emulator.  

However, I was not able to use this method to get info out of the 
emulator.  In particular when I first got the emulator I wanted to 
examine all the files on the rl0 disk using the much nicer work 
environment provided by Linux.  Having tar write to rl1 fails 
around the 1.4 Meg mark (anyone know why?), whereas I was able to 
dump the entire contents of the rl disk to a simtape with no problem.

Here's what happened when I tried to dump the entire rl0 disk:

Ed

sim> att rl1 junk.dsk
RL: creating new file
sim> cont

# pwd
/
# tar cvf /dev/rrl1 *
tar:    p: cannot open file
a bin/ac 20 blocks
a bin/ar 20 blocks
a bin/arcv 8 blocks
a bin/at 17 blocks
a bin/basename 4 blocks
a bin/login.old 18 blocks
a bin/cat 8 blocks
a bin/cb 11 blocks
a bin/cc 13 blocks
a bin/checkeq 9 blocks
a bin/chgrp 10 blocks
a bin/chmod 7 blocks
a bin/chown 10 blocks
a bin/clri 7 blocks
a bin/cmp 9 blocks
a bin/col 10 blocks
a bin/comm 10 blocks
a bin/cp 7 blocks
a bin/crypt 10 blocks
a bin/cu 14 blocks
a bin/date 12 blocks
a bin/dcheck 9 blocks
a bin/dd 14 blocks
a bin/deroff 18 blocks
a bin/df 7 blocks
a bin/diff 19 blocks
a bin/du 8 blocks
a bin/dump 17 blocks
a bin/dumpdir 16 blocks
a bin/echo 1 blocks
a bin/ed 22 blocks
a bin/egrep 18 blocks
a bin/expr 17 blocks
a bin/fgrep 11 blocks
a bin/file 13 blocks
a bin/find 22 blocks
a bin/graph 30 blocks
a bin/grep 12 blocks
a bin/icheck 14 blocks
a bin/iostat 22 blocks
a bin/join 12 blocks
a bin/kill 7 blocks
a bin/ld 22 blocks
a bin/ln 8 blocks
a bin/login 19 blocks
a bin/look 10 blocks
a bin/ls 20 blocks
a bin/mail 26 blocks
a bin/mesg 7 blocks
a bin/mkdir 8 blocks
a bin/mv 13 blocks
a bin/ncheck 10 blocks
a bin/newgrp 16 blocks
a bin/nice 9 blocks
a bin/nm 12 blocks
a bin/od 12 blocks
a bin/ps 19 blocks
a bin/passwd 17 blocks
a bin/pr 22 blocks
a bin/prof 22 blocks
a bin/v6sh 11 blocks
a bin/pstat 16 blocks
a bin/ptx 16 blocks
a bin/pwd 7 blocks
a bin/quot 19 blocks
a bin/random 13 blocks
a bin/ranlib 12 blocks
a bin/restor 24 blocks
a bin/rev 7 blocks
a bin/rm 10 blocks
a bin/rmdir 8 blocks
a bin/sa 23 blocks
a bin/size 8 blocks
a bin/sleep 6 blocks
a bin/sort 19 blocks
a bin/sp 5 blocks
a bin/spline 18 blocks
a bin/split 8 blocks
a bin/strip 8 blocks
a bin/stty 11 blocks
a bin/su 22 blocks
a bin/sum 8 blocks
a bin/sync 1 blocks
a bin/tail 4 blocks
a bin/tc 17 blocks
a bin/tee 3 blocks
a bin/test 6 blocks
a bin/time 11 blocks
a bin/tk 11 blocks
a bin/touch 6 blocks
a bin/tr 6 blocks
a bin/tsort 16 blocks
a bin/tty 6 blocks
a bin/uniq 9 blocks
a bin/units 19 blocks
a bin/vpr 16 blocks
a bin/wc 12 blocks
a bin/who 13 blocks
a bin/write 11 blocks
a bin/yes 5 blocks
a bin/1 1 blocks
a bin/calendar 1 blocks
a bin/diff3 1 blocks
a bin/false 1 blocks
a bin/lookbib 1 blocks
a bin/lorder 1 blocks
a bin/man 2 blocks
a bin/nohup 1 blocks
a bin/plot 1 blocks
a bin/spell 2 blocks
a bin/true 0 blocks
a bin/lint 1 blocks
a bin/notavail link to bin/lint
a bin/pcc link to bin/lint
a bin/struct link to bin/lint
a bin/adb 54 blocks
a bin/awk 89 blocks
a bin/bc 26 blocks
a bin/cptree 16 blocks
a bin/poke6 19 blocks
a bin/dc 45 blocks
a bin/em 36 blocks
a bin/enroll 31 blocks
a bin/eqn 56 blocks
a bin/m4 27 blocks
a bin/make 40 blocks
a bin/neqn 51 blocks
a bin/nroff 75 blocks
a bin/prep 14 blocks
a bin/ratfor 27 blocks
a bin/roff 17 blocks
a bin/sed 26 blocks
a bin/sh 34 blocks
a bin/tar 35 blocks
a bin/tbl 60 blocks
a bin/tp 20 blocks
a bin/xget 41 blocks
a bin/xsend 42 blocks
a bin/factor 6 blocks
a bin/primes 6 blocks
a bin/yacc 48 blocks
a bin/lex 57 blocks
a bin/tek 21 blocks
a bin/t300 20 blocks
a bin/t300s 20 blocks
a bin/t450 20 blocks
a bin/vplot 22 blocks
a bin/refer 58 blocks
a bin/as 11 blocks
a bin/ops 16 blocks
a bin/f77 link to bin/lint
a bin/vcopy 8 blocks
a bin/learn 1 blocks
a bin/notmade link to bin/learn
a bin/troff link to bin/learn
a bin/dfOLD 7 blocks
a bin/ls.11 16 blocks
a bin/.profile 1 blocks
a bin/ps.old 18 blocks
a bin/rmail link to bin/mail
a bin/m68k link to bin/false
a bin/u3b2 link to bin/false
a bin/pr.old 16 blocks
a boot 19 blocks
a dev/makefile 6 blocks
tar: dev/console is not a file. Not dumped
tar: dev/tty is not a file. Not dumped
tar: dev/mem is not a file. Not dumped
tar: dev/kmem is not a file. Not dumped
tar: dev/null is not a file. Not dumped
tar: dev/mt0 is not a file. Not dumped
tar: dev/ttya is not a file. Not dumped
tar: dev/swap is not a file. Not dumped
tar: dev/ttye is not a file. Not dumped
tar: dev/nmt0: cannot open file
tar: dev/tty2 is not a file. Not dumped
tar: dev/tty3 is not a file. Not dumped
tar: dev/rmt0: cannot open file
tar: dev/tty4 is not a file. Not dumped
tar: dev/nrmt0: cannot open file
tar: dev/rl0 is not a file. Not dumped
tar: dev/rl1 is not a file. Not dumped
tar: dev/rrl0 is not a file. Not dumped
tar: dev/rrl1 is not a file. Not dumped
tar: etc: cannot open file
tar: global: cannot open file
tar: global.c: cannot open file
tar: global.s: cannot open file
tar: hello: cannot open file
tar: hello.c: cannot open file
tar: hello.s: cannot open file
tar: lib: cannot open file
tar: lost+found: cannot open file
tar: mnt: cannot open file
tar: mysqrt.c: cannot open file
tar: mysqrt.s: cannot open file
tar: normps: cannot open file
tar: nothing: cannot open file
tar: nothing.c: cannot open file
tar: nothing.s: cannot open file
tar: rkunix: cannot open file
tar: rl1unix: cannot open file
tar: stand: cannot open file
tar: tmp: cannot open file
tar: u1: cannot open file
tar: unix: cannot open file
tar: usr: cannot open file
# 


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id NAA06651
	for pups-liszt; Wed, 8 Apr 1998 13:26:06 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from renoir.op.net (root at renoir.op.net [209.152.193.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id NAA06641
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 13:25:54 +1000 (EST)
Received: from goppelt.op.net (d-phlarc1-0e.ppp.op.net [209.152.199.78]) by renoir.op.net (o1/$Revision: 1.15 $) with SMTP id XAA26777; Tue, 7 Apr 1998 23:25:44 -0400 (EDT)
Message-Id: <199804080325.XAA26777 at renoir.op.net>
Comments: Authenticated sender is <edgee at cyberpass.net>
From: "Ed G." <edgee@cyberpass.net>
To: pups at minnie.cs.adfa.oz.au
Date: Tue, 7 Apr 1998 23:25:33 -0400
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: Re: Floating Point-How Important to Unix?
Reply-to: edgee at cyberpass.net
CC: Greg Lehey <grog at lemis.com>
In-reply-to: <19980407135313.43010 at freebie.lemis.com>
References: <199804070043.UAA07210 at renoir.op.net>; from Ed G. on Mon, Apr 06, 1998 at 08:42:54PM -0400
X-mailer: Pegasus Mail for Win32 (v2.54)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> How did you recognize the instructions words?  Just because it's in
> the text segment doesn't mean it's instructions.

Yes, this occurred to me too.  My perl script doesn't do any fancy
decoding; it just looks for words beginning with octal 17.  After 
some thought I came to the conclusion that the percentage of data 
words miscounted as floating pt. ops (FPOs) is negligible.

Here's my reasoning--tell me what you think:

It seemed to me that the two potential sources of fake FPOs are 
addresses and data words.  Have I left anything out?

I don't believe that addresses are a problem because the programs
would have to be at least 170000 octal (61441 decimal) bytes long to
generate these addresses at compile time.  In fact, the largest 
program in the bin directory is awk at 45,260 bytes.  cc is only 6510 
bytes (those guys at bell labs really knew how to pack it in!)

That leaves data.  What percent of the data words do you think begin 
with 17 octal?

Here's my "guestimate":  17 octal is a 6 bit binary number. 
Assuming the probability of any bit being one is .5, the probability
of finding a word whose first six bits are one would be 1/2^6 or 1
in 64 which is 1 in 128 bytes.  

I examined the run time image of factor.  It was 3072 bytes long, of 
which 222 bytes or less than 10% appeared to be global data.  
Counting immediate operands, I think it is reasonable to assume a 
10-1 code to data ratio.

That would mean for factor that 2 of the 132 FPOs would be bogus
(111* 1/64 = 2 approx).  

Most programs are bigger than factor, however.  cptree and ops are 
close to the average size (around 7800 bytes) for an executable in 
the bin directory.  So for the average program you might expect to 
see 7800*.1*1/128 = 6 bogus FPOs.

"there are lies, damn lies and statistics"--Mark Twain (I think)

Ed G. 

List of floating point ops by program:

awk 2540
refer 1644
xsend 1326
tbl 1315
graph 1300
xget 1288
adb 1152
eqn 918
enroll 915
neqn 874
nroff 841
make 822
spline 812
yacc 789
sa 714
tar 706
lex 628
tek 618
prof 608
t300s 604
dc 601
vplot 582
iostat 579
t300 576
t450 574
em 530
bc 509
ratfor 474
quot 452
tsort 407
sh 381
expr 380
units 379
ac 365
sort 358
ps 327
restor 323
rmail 321
ed 321
mail 321
ptx 320
egrep 313
ls 310
ps.old 306
m4 304
random 298
su 296
tp 285
ops 282
cu 282
diff 277
pr 275
poke6 275
sed 267
find 267
dump 261
deroff 255
icheck 251
ls.11 249
ld 246
login 240
cptree 230
passwd 227
login.old 218
cc 210
prep 205
at 203
dumpdir 197
join 196
wc 193
tc 192
nm 191
pstat 190
file 187
pr.old 186
crypt 182
date 181
grep 180
ranlib 174
fgrep 172
ncheck 159
checkeq 157
du 155
who 152
as 152
od 151
look 149
roff 149
ar 146
vpr 144
dd 141
tk 141
time 139
rm 138
cb 134
mv 134
comm 133
newgrp 133
dcheck 132
factor 132
rmdir 125
write 125
primes 124
cmp 121
dfOLD 120
df 120
size 117
v6sh 116
vcopy 113
nice 113
col 110
ln 106
sum 105
clri 104
cat 103
tail 103
sleep 101
stty 98
mkdir 98
mesg 96
cp 96
touch 96
strip 96
tty 91
chmod 90
split 90
uniq 89
pwd 86
rev 86
chown 84
chgrp 84
kill 83
arcv 83
yes 79
tr 58
sp 57
test 53
basename 34
tee 24
echo 4
sync 2
finddouble.pl 0
u3b2 0
1 0
f77 0
lint 0
finddouble.pl~ 0
true 0
spell 0
troff 0
notmade 0
nohup 0
diff3 0
learn 0
notavail 0
findfp.pl~ 0
lookbib 0
pcc 0
man 0
plot 0
m68k 0
false 0
findfp.pl 0
struct 0
lorder 0
calendar 0

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id NAA06682
	for pups-liszt; Wed, 8 Apr 1998 13:32:13 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from henry.cs.adfa.oz.au (henry.cs.adfa.oz.au [131.236.21.158])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id NAA06677
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 13:32:09 +1000 (EST)
Received: (from wkt at localhost) by henry.cs.adfa.oz.au (8.7.5/8.7.3) id NAA03044; Wed, 8 Apr 1998 13:33:30 +1000 (EST)
From: Warren Toomey <wkt@henry.cs.adfa.oz.au>
Message-Id: <199804080333.NAA03044 at henry.cs.adfa.oz.au>
Subject: Getting Files In/Out of PDP-11 Simulators
To: edgee at cyberpass.net
Date: Wed, 8 Apr 1998 13:33:29 +1000 (EST)
Cc: pups at minnie.cs.adfa.oz.au (PDP Unix Preservation)
In-Reply-To: <199804080325.XAA26771 at renoir.op.net> from "Ed G." at "Apr 7, 98 11:25:33 pm"
Reply-To: wkt at cs.adfa.oz.au
X-Mailer: ELM [version 2.4ME+ PL22 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

In article by Ed G.:

	[getting files in/out of PDP-11 simulators]
> > An alternate solution is to mount the tape image as a disk, e.g RK1
> > Then tar vxf /dev/rrk1	:-)
> 
> Yes, this works well for getting info into the emulator.  
> 
> However, I was not able to use this method to get info out of the 
> emulator.  In particular when I first got the emulator I wanted to 
> examine all the files on the rl0 disk using the much nicer work 
> environment provided by Linux.  Having tar write to rl1 fails 
> around the 1.4 Meg mark (anyone know why?), whereas I was able to 
> dump the entire contents of the rl disk to a simtape with no problem.

Some simulators open a truncated file, and then die once it gets to a
certain size. A solution here is to cp an existing big file over to the
desired disk image. It will, of course, be overwritten as you tar out
to the disk image.

Specific problems are touched on below:
 
> Here's what happened when I tried to dump the entire rl0 disk:
> tar: dev/console is not a file. Not dumped

V7 tar cannot dump device files.

> tar: etc: cannot open file

Probably your disk image has been corrupted. Use /etc/fsck if it
exists, otherwise icheck, ncheck and dcheck. For instance, the Supnik
RL02 image has got a small, recoverable problem. The Supnik V7 RK05 image
seems to be completely stuffed, and fsck gives up on it.

I do have new images for these, and I should pass them on to Bob.

	Warren

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id OAA06782
	for pups-liszt; Wed, 8 Apr 1998 14:04:15 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from allegro.lemis.com (allegro.lemis.com [192.109.197.134])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id OAA06777
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 14:04:07 +1000 (EST)
Received: from freebie.lemis.com (freebie.lemis.com [192.109.197.137])
	by allegro.lemis.com (8.8.7/8.8.5) with ESMTP id NAA13667;
	Wed, 8 Apr 1998 13:33:58 +0930 (CST)
Received: (from grog at localhost)
          by freebie.lemis.com (8.8.8/8.8.7) id NAA12367;
          Wed, 8 Apr 1998 13:33:58 +0930 (CST)
          (envelope-from grog)
Message-ID: <19980408133357.40721 at freebie.lemis.com>
Date: Wed, 8 Apr 1998 13:33:57 +0930
From: Greg Lehey <grog@lemis.com>
To: edgee at cyberpass.net, pups at minnie.cs.adfa.oz.au
Subject: Re: Floating Point-How Important to Unix?
References: <199804070043.UAA07210 at renoir.op.net>; <19980407135313.43010 at freebie.lemis.com> <199804080325.XAA26777 at renoir.op.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.89i
In-Reply-To: <199804080325.XAA26777 at renoir.op.net>; from Ed G. on Tue, Apr 07, 1998 at 11:25:33PM -0400
WWW-Home-Page: http://www.lemis.com/~grog
Organization: LEMIS, PO Box 460, Echunga SA 5153, Australia
Phone: +61-8-8388-8286
Fax: +61-8-8388-8725
Mobile: +61-41-739-7062
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Tue,  7 April 1998 at 23:25:33 -0400, Ed G. wrote:
>> How did you recognize the instructions words?  Just because it's in
>> the text segment doesn't mean it's instructions.
>
> Yes, this occurred to me too.  My perl script doesn't do any fancy
> decoding; it just looks for words beginning with octal 17.  After
> some thought I came to the conclusion that the percentage of data
> words miscounted as floating pt. ops (FPOs) is negligible.
>
> Here's my reasoning--tell me what you think:
>
> (reasoning omitted)

You don't say whether you restricted your search to the text segment.
Anyway, at this point, I would have modified the script somewhat to
display the locations of the words, and then would have looked at the
text with adb to see what purpose they serve.  Considering that
floating point was an option, I find it hard to believe that so many
programs, in particular things like tar, would use FP.

Greg

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id OAA06821
	for pups-liszt; Wed, 8 Apr 1998 14:11:10 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from henry.cs.adfa.oz.au (henry.cs.adfa.oz.au [131.236.21.158])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id OAA06815
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 14:11:04 +1000 (EST)
Received: (from wkt at localhost) by henry.cs.adfa.oz.au (8.7.5/8.7.3) id OAA03122; Wed, 8 Apr 1998 14:12:29 +1000 (EST)
From: Warren Toomey <wkt@henry.cs.adfa.oz.au>
Message-Id: <199804080412.OAA03122 at henry.cs.adfa.oz.au>
Subject: Re: Floating Point-How Important to Unix?
To: grog at lemis.com (Greg Lehey)
Date: Wed, 8 Apr 1998 14:12:29 +1000 (EST)
Cc: edgee at cyberpass.net, pups at minnie.cs.adfa.oz.au
In-Reply-To: <19980408133357.40721 at freebie.lemis.com> from Greg Lehey at "Apr 8, 98 01:33:57 pm"
Reply-To: wkt at cs.adfa.oz.au
X-Mailer: ELM [version 2.4ME+ PL22 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

In article by Greg Lehey:
> Considering that
> floating point was an option, I find it hard to believe that so many
> programs, in particular things like tar, would use FP.

I know zip all about PDP-11 FP, but I know that when I was getting my
Apout V7 simulator working (which doesn't do FP, by the way), I had to
at least emulate setd, because crt0 in V7 starts with:

start:
        setd
        mov     2(sp),r0
        clr     -2(r0)

	Warren


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id OAA06837
	for pups-liszt; Wed, 8 Apr 1998 14:11:29 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from psychvax.psych.usyd.edu.au (psychvax.psych.usyd.edu.au [129.78.83.1])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id OAA06832
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 14:11:25 +1000 (EST)
Received: (from johnh at localhost)
	by psychvax.psych.usyd.edu.au (8.8.8/8.8.8) id OAA06388
	for pups at minnie.cs.adfa.oz.au; Wed, 8 Apr 1998 14:11:22 +1000
Date: Wed, 8 Apr 1998 14:11:22 +1000
From: John Holden <johnh@psychvax.psych.usyd.edu.au>
Message-Id: <199804080411.OAA06388 at psychvax.psych.usyd.edu.au>
To: pups at minnie.cs.adfa.oz.au
Subject: Re: Floating Point-How Important to Unix?
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk


> After some thought I came to the conclusion that the percentage of data 
> words miscounted as floating pt. ops (FPOs) is negligible.

	I think that you will find that the compiler and assember always
generate relative addressing for subroutines and jumps. Any call to an
earlier address will generate a negative number, hence lots of 017xxxx
numbers in the text image.


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id OAA06875
	for pups-liszt; Wed, 8 Apr 1998 14:28:16 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from renoir.op.net (root at renoir.op.net [209.152.193.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id OAA06870
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 14:28:04 +1000 (EST)
Received: from goppelt.op.net (d-phlarc1-0a.ppp.op.net [209.152.199.74]) by renoir.op.net (o1/$Revision: 1.15 $) with SMTP id AAA00145; Wed, 8 Apr 1998 00:27:40 -0400 (EDT)
Message-Id: <199804080427.AAA00145 at renoir.op.net>
Comments: Authenticated sender is <edgee at cyberpass.net>
From: "Ed G." <edgee@cyberpass.net>
To: Greg Lehey <grog at lemis.com>
Date: Wed, 8 Apr 1998 00:27:40 -0400
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: Re: Floating Point-How Important to Unix?
Reply-to: edgee at cyberpass.net
CC: pups at minnie.cs.adfa.oz.au
In-reply-to: <19980408133357.40721 at freebie.lemis.com>
References: <199804080325.XAA26777 at renoir.op.net>; from Ed G. on Tue, Apr 07, 1998 at 11:25:33PM -0400
X-mailer: Pegasus Mail for Win32 (v2.54)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> text with adb to see what purpose they serve.  Considering that
> floating point was an option, I find it hard to believe that so many
> programs, in particular things like tar, would use FP.

My guess is that the floating point code is dragged in when certain 
library routines (e.g., printf and libc) are used, even if the 
floating point features of the routines are not used.

Consider this:

Two programs hello.c and nothing.c, identical except that hello.c 
contains a single printf("hello world\n") inside main.  nothing.c 
has nothing in its main loop.  

Program--Size--Number of FPOs Reported by my perl script
===========================================
nothing.c, 312 bytes, 2
hello.c, 4804 bytes, 115

See what I mean?

Ed

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id OAA06927
	for pups-liszt; Wed, 8 Apr 1998 14:47:00 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from moe.2bsd.com (0 at MOE.2BSD.COM [206.139.202.200])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id OAA06922
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 14:46:55 +1000 (EST)
Received: (from sms at localhost)
	by moe.2bsd.com (8.8.5/8.8.5) id VAA19850;
	Tue, 7 Apr 1998 21:34:43 -0700 (PDT)
Date: Tue, 7 Apr 1998 21:34:43 -0700 (PDT)
From: "Steven M. Schultz" <sms@moe.2bsd.com>
Message-Id: <199804080434.VAA19850 at moe.2bsd.com>
To: johnh at psychvax.psych.usyd.edu.au, pups at minnie.cs.adfa.oz.au
Subject: Re: Floating Point-How Important to Unix?
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> From: John Holden <johnh at psychvax.psych.usyd.edu.au>
> 
> 	I think that you will find that the compiler and assember always
> generate relative addressing for subroutines and jumps. Any call to an

	Not quite 'always'.  In some cases yes, relative addressing is
	generated but quite frequently you'll see absolute addresses
	used.  Why?  I don't know ;)

	On some machines mode 3 is a bit faster than mode 6 but I doubt that
	was the reason.

	Steven Schultz


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id PAA07030
	for pups-liszt; Wed, 8 Apr 1998 15:15:27 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from allegro.lemis.com (allegro.lemis.com [192.109.197.134])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id PAA07025
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 15:15:17 +1000 (EST)
Received: from freebie.lemis.com (freebie.lemis.com [192.109.197.137])
	by allegro.lemis.com (8.8.7/8.8.5) with ESMTP id OAA13740;
	Wed, 8 Apr 1998 14:45:13 +0930 (CST)
Received: (from grog at localhost)
          by freebie.lemis.com (8.8.8/8.8.7) id OAA12608;
          Wed, 8 Apr 1998 14:45:08 +0930 (CST)
          (envelope-from grog)
Message-ID: <19980408144508.09240 at freebie.lemis.com>
Date: Wed, 8 Apr 1998 14:45:08 +0930
From: Greg Lehey <grog@lemis.com>
To: edgee at cyberpass.net
Cc: pups at minnie.cs.adfa.oz.au
Subject: Re: Floating Point-How Important to Unix?
References: <199804080325.XAA26777 at renoir.op.net>; <19980408133357.40721 at freebie.lemis.com> <199804080427.AAA00145 at renoir.op.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.89i
In-Reply-To: <199804080427.AAA00145 at renoir.op.net>; from Ed G. on Wed, Apr 08, 1998 at 12:27:40AM -0400
WWW-Home-Page: http://www.lemis.com/~grog
Organization: LEMIS, PO Box 460, Echunga SA 5153, Australia
Phone: +61-8-8388-8286
Fax: +61-8-8388-8725
Mobile: +61-41-739-7062
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Wed,  8 April 1998 at  0:27:40 -0400, Ed G. wrote:
>> text with adb to see what purpose they serve.  Considering that
>> floating point was an option, I find it hard to believe that so many
>> programs, in particular things like tar, would use FP.
>
> My guess is that the floating point code is dragged in when certain
> library routines (e.g., printf and libc) are used, even if the
> floating point features of the routines are not used.
>
> Consider this:
>
> Two programs hello.c and nothing.c, identical except that hello.c
> contains a single printf("hello world\n") inside main.  nothing.c
> has nothing in its main loop.
>
> Program--Size--Number of FPOs Reported by my perl script
> ===========================================
> nothing.c, 312 bytes, 2
> hello.c, 4804 bytes, 115
>
> See what I mean?

I don't see that this proves anything.  You really need to look at
those words and see how they are used.

Greg

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id RAA07433
	for pups-liszt; Wed, 8 Apr 1998 17:54:10 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from Zeke.Update.UU.SE (2026 at Zeke.Update.UU.SE [130.238.11.14])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id RAA07428
	for <pups at minnie.cs.adfa.oz.au>; Wed, 8 Apr 1998 17:53:54 +1000 (EST)
Received: from localhost (bqt at localhost)
	by Zeke.Update.UU.SE (8.8.8/8.8.8) with SMTP id JAA13459;
	Wed, 8 Apr 1998 09:53:40 +0200
Date: Wed, 8 Apr 1998 09:53:37 +0200 (MET DST)
From: Johnny Billquist <bqt@Update.UU.SE>
To: "Ed G." <edgee at cyberpass.net>
cc: pups at minnie.cs.adfa.oz.au, Greg Lehey <grog at lemis.com>
Subject: Re: Floating Point-How Important to Unix?
In-Reply-To: <199804080325.XAA26777 at renoir.op.net>
Message-ID: <Pine.VUL.3.93.980408094723.13372A-100000 at Zeke.Update.UU.SE>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Tue, 7 Apr 1998, Ed G. wrote:

> > How did you recognize the instructions words?  Just because it's in
> > the text segment doesn't mean it's instructions.
> 
> Yes, this occurred to me too.  My perl script doesn't do any fancy
> decoding; it just looks for words beginning with octal 17.  After 
> some thought I came to the conclusion that the percentage of data 
> words miscounted as floating pt. ops (FPOs) is negligible.
> 
> Here's my reasoning--tell me what you think:
> 
> It seemed to me that the two potential sources of fake FPOs are 
> addresses and data words.  Have I left anything out?
> 
> I don't believe that addresses are a problem because the programs
> would have to be at least 170000 octal (61441 decimal) bytes long to
> generate these addresses at compile time.  In fact, the largest 
> program in the bin directory is awk at 45,260 bytes.  cc is only 6510 
> bytes (those guys at bell labs really knew how to pack it in!)
> 
> That leaves data.  What percent of the data words do you think begin 
> with 17 octal?
> 
> Here's my "guestimate":  17 octal is a 6 bit binary number. 
> Assuming the probability of any bit being one is .5, the probability
> of finding a word whose first six bits are one would be 1/2^6 or 1
> in 64 which is 1 in 128 bytes.  

You are making atleast four assumptions which are wrong here.

1) Data starts from address 0. They most likely do not.
2) 17 is not 6 bits, it's four! You are talking about octal representation
   of 16 bits, which means that the highest digit can only be 0 or 1.
3) All data are not words. How about bytes? If a byte is in the range
   240-255 and on an odd address, you'll catch it as a FP opcode.
4) Not all data are addresses. Most negative numbers will have 17 as the
   high four bits.

Of these four assumptions, the fourth is the most serious, and probably
the cause of most of your "hits". You'll have to do better...

	Johnny

Johnny Billquist                  || "I'm on a bus
                                  ||  on a psychedelic trip
email: bqt at update.uu.se           ||  Reading murder books
pdp is alive!                     ||  tryin' to stay hip" - B. Idol


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id HAA10162
	for pups-liszt; Thu, 9 Apr 1998 07:36:02 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from henry.cs.adfa.oz.au (henry.cs.adfa.oz.au [131.236.21.158])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id HAA10157
	for <pups at minnie.cs.adfa.oz.au>; Thu, 9 Apr 1998 07:35:58 +1000 (EST)
Received: (from wkt at localhost) by henry.cs.adfa.oz.au (8.7.5/8.7.3) id HAA04236 for pups at minnie.cs.adfa.oz.au; Thu, 9 Apr 1998 07:37:36 +1000 (EST)
From: Warren Toomey <wkt@henry.cs.adfa.oz.au>
Message-Id: <199804082137.HAA04236 at henry.cs.adfa.oz.au>
Subject: Have a safe Easter!
To: pups at minnie.cs.adfa.oz.au (PDP Unix Preservation)
Date: Thu, 9 Apr 1998 07:37:36 +1000 (EST)
Reply-To: wkt at cs.adfa.oz.au
X-Mailer: ELM [version 2.4ME+ PL22 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

Easter's here, I'm off to a friend's wedding. Have a safe & happy break, and
I'll see (hear?) from you all on Tuesday.

	Warren

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id HAA10201
	for pups-liszt; Thu, 9 Apr 1998 07:42:08 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from henry.cs.adfa.oz.au (henry.cs.adfa.oz.au [131.236.21.158])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id HAA10196
	for <pups at minnie.cs.adfa.oz.au>; Thu, 9 Apr 1998 07:42:04 +1000 (EST)
Received: (from wkt at localhost) by henry.cs.adfa.oz.au (8.7.5/8.7.3) id HAA04280 for pups at minnie.cs.adfa.oz.au; Thu, 9 Apr 1998 07:43:42 +1000 (EST)
From: Warren Toomey <wkt@henry.cs.adfa.oz.au>
Message-Id: <199804082143.HAA04280 at henry.cs.adfa.oz.au>
Subject: Yet more licenses
To: pups at minnie.cs.adfa.oz.au (PDP Unix Preservation)
Date: Thu, 9 Apr 1998 07:43:42 +1000 (EST)
Reply-To: wkt at cs.adfa.oz.au
X-Mailer: ELM [version 2.4ME+ PL22 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

----- Forwarded message from Dion Johnson -----

I have 13 more licenses for you, being copied now.
I will mail these off tomorrow or Friday.

Dion

----- End of forwarded message from Dion Johnson -----

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id XAA16327
	for pups-liszt; Fri, 10 Apr 1998 23:19:34 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from mail13.digital.com (mail13.digital.com [192.208.46.30])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id XAA16322
	for <pups at minnie.cs.adfa.oz.au>; Fri, 10 Apr 1998 23:19:27 +1000 (EST)
Received: from cst.ako.dec.com (cst.ako.dec.com [16.151.72.40])
	by mail13.digital.com (8.8.8/8.8.8/WV1.0d) with ESMTP id JAA27778
	for <pups at minnie.cs.adfa.oz.au>; Fri, 10 Apr 1998 09:19:22 -0400 (EDT)
Received: by cst.ako.dec.com with Internet Mail Service (5.0.1458.49)
	id <HSD5TNA2>; Fri, 10 Apr 1998 09:20:09 -0400
Message-ID: <6B84B1FF221BD011B0AC08002BE692066DD917 at excmso.mso.dec.com>
From: Bob Supnik <Bob.Supnik@digital.com>
To: pups at minnie.cs.adfa.oz.au
Subject: RE: Floating Point Bug in Bob's Emulator - second one found
Date: Fri, 10 Apr 1998 09:19:59 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.0.1458.49)
Content-Type: text/plain
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

	A second bug has been found in the floating point emulator.  The
first (in MODf) caused FACTOR to malfunction.  This one causes problems
in AWK.

	The bug is in LDEXP.  In pdp11_fp.c:

	case 015:						/* LDEXP
*/
		dst = (dstspec <= 07)? R[dstspec]: ReadW (GeteaW
(dstspec));
		F_LOAD (qdouble, FR[ac], fac);
		fac.h = (fac.h & ~FP_EXP) | (((dst + FP_BIAS) &
FP_M_EXP) << FP_V_EXP);
		newV = 0;
	==>	if ((dst > 0177) || (dst <= 0177600)) {

	Change the indicated line to:

		if ((dst > 0177) && (dst <= 0177600)) {

	The test case is:

	# awk 'END {print 1+2}' < /dev/null

	incorrectly produced 0, now produces 3.

	/Bob Supnik

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id XAA16423
	for pups-liszt; Fri, 10 Apr 1998 23:50:38 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from mail13.digital.com (mail13.digital.com [192.208.46.30])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id XAA16418
	for <pups at minnie.cs.adfa.oz.au>; Fri, 10 Apr 1998 23:50:29 +1000 (EST)
Received: from cst.ako.dec.com (cst.ako.dec.com [16.151.72.40])
	by mail13.digital.com (8.8.8/8.8.8/WV1.0d) with ESMTP id JAA00404
	for <pups at minnie.cs.adfa.oz.au>; Fri, 10 Apr 1998 09:50:25 -0400 (EDT)
Received: by cst.ako.dec.com with Internet Mail Service (5.0.1458.49)
	id <HSD5TNBG>; Fri, 10 Apr 1998 09:51:09 -0400
Message-ID: <6B84B1FF221BD011B0AC08002BE692066DD91B at excmso.mso.dec.com>
From: Bob Supnik <Bob.Supnik@digital.com>
To: "'PUPS'" <pups at minnie.cs.adfa.oz.au>
Subject: Question re TM11 boostrap
Date: Fri, 10 Apr 1998 09:50:56 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.0.1458.49)
Content-Type: text/plain
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

Several people have asked for a bootstrap for the TM11 magtape. V2.3a
has a simple bootstrap that just reads the first magtape record and
jumps to it.  However, John Holden points out that the M9301 bootstrap
actually skips the first record and reads the second.

Does anyone have source code for an actual TM11 bootstrap?

What do the various versions of UNIX expect in a bootable tape image,
particularly BSD 2.9 and 2.11?

Thanks /Bob Supnik

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id BAA16774
	for pups-liszt; Sat, 11 Apr 1998 01:39:34 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from alph02.triumf.ca (alph02.Triumf.CA [142.90.114.18])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id BAA16768
	for <pups at minnie.CS.ADFA.OZ.AU>; Sat, 11 Apr 1998 01:39:28 +1000 (EST)
Received: by alph02.triumf.ca; id AA06532; Fri, 10 Apr 1998 08:35:38 -0700
From: Tim Shoppa <shoppa@alph02.triumf.ca>
Message-Id: <9804101535.AA06532 at alph02.triumf.ca>
Subject: Re: Question re TM11 boostrap
To: Bob.Supnik at DIGITAL.com (Bob Supnik)
Date: Fri, 10 Apr 1998 08:35:38 -0800 (PDT)
Cc: pups at minnie.cs.adfa.oz.au
In-Reply-To: <6B84B1FF221BD011B0AC08002BE692066DD91B at excmso.mso.dec.com> from "Bob Supnik" at Apr 10, 98 09:50:56 am
X-Mailer: ELM [version 2.4 PL22]
Content-Type: text
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> Several people have asked for a bootstrap for the TM11 magtape. V2.3a
> has a simple bootstrap that just reads the first magtape record and
> jumps to it.  However, John Holden points out that the M9301 bootstrap
> actually skips the first record and reads the second.

It depends on which OS (and version) you're using, but most of
DEC's later OS's made some attempt to have bootable tapes be
ANSI-labeled volumes.  This meant that the boot block had to come
after the VOL1 header.  See, for example, the source code to
RT-11's DUP utility.

> Does anyone have source code for an actual TM11 bootstrap?

I certainly have some boot ROM's that I can disassemble.  I'll
also check my DEC manuals for the toggle-in bootstraps.

I know that in some cases it was necessary to re-execute the toggle-in
bootstrap if the real boot block was the second file/record.

Also note that it wasn't until the late 70's/early 80's that DEC
adopted the "second block is the boot block" strategy.  You're
likely to see different things depending on when a bootstrap was
written.

> What do the various versions of UNIX expect in a bootable tape image,
> particularly BSD 2.9 and 2.11?

2.11 plays it safe by putting down two copies of the boot block at
the beginning of the tape, each ending with a filemark.

All Q-bus tape bootstraps that might reside in a 11/53's console firmware
would be looking for the boot block to be the second block on tape.  But
as the TM11 wasn't a Q-bus device I don't think the 11/53 firmware is
going to resolve this issue.

A side comment on the emulator:  Have you ever considered putting the
11/53 firmware into your emulator, so that users can use the bootstraps
and diagnostics built into it?  Would there be copyright problems to
resolve before you could do this?

Tim. (shoppa at triumf.ca)

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id CAA16834
	for pups-liszt; Sat, 11 Apr 1998 02:02:25 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from moe.2bsd.com (0 at MOE.2BSD.COM [206.139.202.200])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id CAA16829
	for <pups at minnie.cs.adfa.oz.au>; Sat, 11 Apr 1998 02:02:19 +1000 (EST)
Received: (from sms at localhost)
	by moe.2bsd.com (8.8.5/8.8.5) id JAA14552;
	Fri, 10 Apr 1998 09:01:24 -0700 (PDT)
Date: Fri, 10 Apr 1998 09:01:24 -0700 (PDT)
From: "Steven M. Schultz" <sms@moe.2bsd.com>
Message-Id: <199804101601.JAA14552 at moe.2bsd.com>
To: Bob.Supnik at digital.com, pups at minnie.cs.adfa.oz.au
Subject: Re: Question re TM11 boostrap
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

Bob, et al -

> Several people have asked for a bootstrap for the TM11 magtape. V2.3a
> has a simple bootstrap that just reads the first magtape record and

	For booting 2.xBSD that will work fine.

> jumps to it.  However, John Holden points out that the M9301 bootstrap
> actually skips the first record and reads the second.

	True - and that's precisely why bootable tapes (at least starting with
	2.9BSD, not sure about V7) have two copies of the tapebootblock at
	the front.  The layout of a boottape is:

		tapeboot
		tapeboot
		boot
		<filemark>
		standaloneprogram 1
		<filemark>
		...

> Does anyone have source code for an actual TM11 bootstrap?

	What I use (it's in the 2.11 setup documentation) is:

If no other means are available, the following code can be keyed in
and executed at (say) 0100000 to boot from a TM tape drive (the magic number
172526 is the address of the TM-11 current memory address register;
an adjustment may be necessary if your controller is at a nonstandard
address):

012700  (mov $unit, r0)
000000  (normally unit 0)
012701  (mov $172526, r1)
172526
010141  (mov r1, -(r1))
012741  (mov $60003, -(r1))
060003  (if unit 1 use 060403, etc)
000777  (br .)

	This does nothing more than read the first record (much like V2.3a
	already does) into location 0.  Then a ^E is typed followed by 
	"g 0".

> What do the various versions of UNIX expect in a bootable tape image,
> particularly BSD 2.9 and 2.11?

	The tape bootblocks for 2.xBSD all know to skip TWO copies of the
	tapebootblock in order to find the 'boot' program.

	The actual standalone programs present differ between 2.9 and 2.11
	but 2.11's is:

		tapeboot
		tapeboot
		boot
		<filemark>
		disklabel
		<filemark>
		mkfs
		<filemark>
		restor
		<filemark>
		icheck
		<filemark>
		dump of root fs
		<filemark>

	For 2.11 the 'tapeboot' is a universal bootblock - it can handle
	all 4 tape drive types (MS, MM, MT, TMSCP).  2.9 on the otherhand
	has different tapebootblocks at the front of the tape depending on
	the drive type (MS or MM/MT, no TMSCP support in 2.9).  Thus if you
	have a MS bootblock you can't boot from the tape on a MT based system.

	Steven Schultz


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id MAA18196
	for pups-liszt; Sat, 11 Apr 1998 12:46:16 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from renoir.op.net (root at renoir.op.net [209.152.193.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id MAA18185
	for <pups at minnie.cs.adfa.oz.au>; Sat, 11 Apr 1998 12:46:07 +1000 (EST)
Received: from goppelt.op.net (d-phlarc1-01.ppp.op.net [209.152.199.65]) by renoir.op.net (o1/$Revision: 1.16 $) with SMTP id WAA07389 for <pups at minnie.cs.adfa.oz.au>; Fri, 10 Apr 1998 22:45:58 -0400 (EDT)
Message-Id: <199804110245.WAA07389 at renoir.op.net>
Comments: Authenticated sender is <edgee at cyberpass.net>
From: "Ed G." <edgee@cyberpass.net>
To: pups at minnie.cs.adfa.oz.au
Date: Fri, 10 Apr 1998 22:40:35 -0400
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: Bob's Magtape Vindicated-Unix to Blame!
Reply-to: edgee at cyberpass.net
X-mailer: Pegasus Mail for Win32 (v2.54)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

I described in an earlier post how uv7 tar would fail, extracting the 
same file over and over again (see below for example).  

It turns out that Bob's magtape works just fine:  the problem is in 
tar!

uv7 tar has a bug in it--a misplaced assignment--which causes it to 
read the first block over and over (see below for example) when 
used with the 'f' option.  

The bug is indirectly a result of a trick tar uses to determine the
block size on the mag tape:  rather than interrogate Unix about the
block size (can someone tell me how do this?),  tar first attempts to 
read the maximum block size supported by tar (20*512 bytes).  The 
number of bytes actually returned is taken to be the actual block 
size and is used by tar for reads thereafter.

Two simple workarounds for /dev/rmt0 are:

tar vx0
and
tar vxfb /dev/rmt0 1
 
The problem:

# tar vxf /dev/rmt0
x mysqrt.c, 383 bytes, 1 tape blocks
x mysqrt.c, 383 bytes, 1 tape blocks
x mysqrt.c, 383 bytes, 1 tape blocks
x mysqrt.c, 383 bytes, 1 tape blocks
x mysqrt.c, 383 bytes, 1 tape blocks
etc.

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id MAA18199
	for pups-liszt; Sat, 11 Apr 1998 12:46:20 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from renoir.op.net (root at renoir.op.net [209.152.193.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id MAA18186
	for <pups at minnie.cs.adfa.oz.au>; Sat, 11 Apr 1998 12:46:09 +1000 (EST)
Received: from goppelt.op.net (d-phlarc1-01.ppp.op.net [209.152.199.65]) by renoir.op.net (o1/$Revision: 1.16 $) with SMTP id WAA07393; Fri, 10 Apr 1998 22:46:00 -0400 (EDT)
Message-Id: <199804110246.WAA07393 at renoir.op.net>
Comments: Authenticated sender is <edgee at cyberpass.net>
From: "Ed G." <edgee@cyberpass.net>
To: pups at minnie.cs.adfa.oz.au
Date: Fri, 10 Apr 1998 22:40:34 -0400
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: Re: Floating Point-How Important to Unix?
Reply-to: edgee at cyberpass.net
CC: Johnny Billquist <bqt at Update.UU.SE>
References: <199804080325.XAA26777 at renoir.op.net>
In-reply-to: <Pine.VUL.3.93.980408094723.13372A-100000 at Zeke.Update.UU.SE>
X-mailer: Pegasus Mail for Win32 (v2.54)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

I'd like to thank everyone who wrote me on this subject, 
and especially those described the weaknesses they saw in my 
reasoning.  

I have found it useful sometimes to take a step back and reconsider 
what it is I am trying do and how I am trying to do it.  

My purpose here was to get a sense for how heavily the Unix utilities
rely on floating point.  I was not looking for a numerically exact 
"right" answer, but rather an estimate which was good enough.

At this point, now that I have access to the source code, it seems to 
me that an easier and more accurate way of doing that would be to 
count the occurences of floats and doubles using grep or a similar 
utility.  What do you all think?

> You are making atleast four assumptions which are wrong here.
> 
> 1) Data starts from address 0. They most likely do not.

I'm not sure what you mean here; can you elaborate?  

As I see it my key assumption about data was that it is 
relatively small in size compared to code in a given program file.  
This was certainly the case with factor, where less than 10% of the 
runtime image consisted of static data.

> 2) 17 is not 6 bits, it's four! You are talking about octal representation
>    of 16 bits, which means that the highest digit can only be 0 or 1.

You are absolutely right.  Thank you for pointing this out.  

> 3) All data are not words. How about bytes? If a byte is in the range
>    240-255 and on an odd address, you'll catch it as a FP opcode.

My routine scanned words, not bytes, so I don't think this would 
apply.

> 4) Not all data are addresses. Most negative numbers will have 17 as the
>    high four bits.

This is true.  But if data is negligible compared to code, then I
don't see how this wouldn't affect an estimate very much.

Ed 

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id MAA18203
	for pups-liszt; Sat, 11 Apr 1998 12:46:23 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from renoir.op.net (root at renoir.op.net [209.152.193.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id MAA18197
	for <pups at minnie.cs.adfa.oz.au>; Sat, 11 Apr 1998 12:46:16 +1000 (EST)
Received: from goppelt.op.net (d-phlarc1-01.ppp.op.net [209.152.199.65]) by renoir.op.net (o1/$Revision: 1.16 $) with SMTP id WAA07386; Fri, 10 Apr 1998 22:45:54 -0400 (EDT)
Message-Id: <199804110245.WAA07386 at renoir.op.net>
Comments: Authenticated sender is <edgee at cyberpass.net>
From: "Ed G." <edgee@cyberpass.net>
To: John Holden <johnh at psychvax.psych.usyd.edu.au>
Date: Fri, 10 Apr 1998 22:40:35 -0400
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: Re: Floating Point-How Important to Unix?
Reply-to: edgee at cyberpass.net
CC: pups at minnie.cs.adfa.oz.au
In-reply-to: <199804080411.OAA06388 at psychvax.psych.usyd.edu.au>
X-mailer: Pegasus Mail for Win32 (v2.54)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> 	I think that you will find that the compiler and assember always
> generate relative addressing for subroutines and jumps. Any call to an
> earlier address will generate a negative number, hence lots of 017xxxx
> numbers in the text image.

I am not an expert on PDP-11 op codes, so you may well be right about 
this.  

In response to your criticism, I looked up jmp and branch 
instructions in the *Processor Handbook*.  Based only on my quick 
skim of the handbook, I don't think negative relative addresses would 
be a problem because: 

1. branch instructions are followed by a signed byte offset (-128, 
127).  This would not be a problem for my routine which only looks at 
the first four bits of every word and would ignore the offset in the 
odd byte.

2. jump instructions, which seem at first glance to be a problem 
because they are followed by a 16 bit word, are not because they 
always use absolute addressing, never relative and hence would never 
be followed by a negative number.

Ed

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id BAA25622
	for pups-liszt; Tue, 14 Apr 1998 01:22:02 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from skatter.USask.Ca (skatter.usask.ca [128.233.14.1])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id BAA25617
	for <pups at minnie.cs.adfa.oz.au>; Tue, 14 Apr 1998 01:21:55 +1000 (EST)
Received: from hydrus.USask.Ca (hydrus.usask.ca [128.233.14.27])
	by skatter.USask.Ca (8.8.5/8.8.5) with ESMTP id JAA01657;
	Mon, 13 Apr 1998 09:21:47 -0600 (CST)
From: Neil Johnson <neil@skatter.usask.ca>
Received: (from neil at localhost) by hydrus.USask.Ca (8.7.2/8.7.2) id JAA21310; Mon, 13 Apr 1998 09:21:45 -0600 (CST)
Date: Mon, 13 Apr 1998 09:21:45 -0600 (CST)
Message-Id: <199804131521.JAA21310 at hydrus.USask.Ca>
To: Bob.Supnik at digital.com, pups at minnie.cs.adfa.oz.au
Subject: Re:  Question re TM11 boostrap
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

I have booted a TMB11 with a simple program to load the first record into block
0. The tape must be rewound to BOT, then the program at location 0 run. I
don't think the 9301 bootstrap actually skips the first record. Hope this
helps.

Neil

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id UAA28778
	for pups-liszt; Tue, 14 Apr 1998 20:21:13 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from henry.cs.adfa.oz.au (henry.cs.adfa.oz.au [131.236.21.158])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id UAA28773
	for <pups at minnie.cs.adfa.oz.au>; Tue, 14 Apr 1998 20:21:09 +1000 (EST)
Received: (from wkt at localhost) by henry.cs.adfa.oz.au (8.7.5/8.7.3) id UAA09911 for pups at minnie.cs.adfa.oz.au; Tue, 14 Apr 1998 20:23:21 +1000 (EST)
From: Warren Toomey <wkt@henry.cs.adfa.oz.au>
Message-Id: <199804141023.UAA09911 at henry.cs.adfa.oz.au>
Subject: More licenses have arrived!
To: pups at minnie.cs.adfa.oz.au (PDP Unix Preservation)
Date: Tue, 14 Apr 1998 20:23:21 +1000 (EST)
Reply-To: wkt at cs.adfa.oz.au
X-Mailer: ELM [version 2.4ME+ PL22 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

All, The latest batch of licenses has arrived from Dion at SCO:

	Stefan Bieschewski, Robin Birch, W. Bulte, Anthony Duell,
	Alexander Duerrschnabel, Kevin Dunlap, Arno Griffioen, Neil Johnson,
	Greg Lehey, Kirk McKusick, Joseph Myers, Carl Phillips, Jason Wells

As always, if you want access to the on-line PUPS Archive, or a copy
on tape/CD, then email your request to pupsarchive at minnie.cs.adfa.oz.au.
You will receive a form reply, and we will process it as soon as possible.
Note that we won't start burning the first CDs until around the 21st April.

If you want on-line access, I will need a fax number or a PGP key so that
I can mail you the access details, with a moderate amount of security. I
won't accept PGP keys via email. I'll accept keys via finger, web page,
key signing service, etc. Please include the method to obtain your key
in your email request above.

Cheers,
	Warren

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id EAA00785
	for pups-liszt; Wed, 15 Apr 1998 04:47:46 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from seedlab1.cropsci.ncsu.edu (seedlab1.cropsci.ncsu.edu [152.1.88.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id EAA00780
	for <pups at minnie.cs.adfa.oz.au>; Wed, 15 Apr 1998 04:47:40 +1000 (EST)
Received: (from rdkeys at localhost)
	by seedlab1.cropsci.ncsu.edu (8.8.7/8.8.7) id OAA03748;
	Tue, 14 Apr 1998 14:44:16 -0400 (EDT)
From: "Robert D. Keys" <rdkeys@seedlab1.cropsci.ncsu.edu>
Message-Id: <199804141844.OAA03748 at seedlab1.cropsci.ncsu.edu>
Subject: PDP-11 Newbie Alert --- (gotta start somewhere)
To: pups at minnie.cs.adfa.oz.au
Date: Tue, 14 Apr 1998 14:44:16 -0400 (EDT)
Cc: rdkeys at seedlab1.cropsci.ncsu.edu (Robert D. Keys)
X-Mailer: ELM [version 2.4ME+ PL32 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

Greetings to the list, and thanks to Warren for telling me about it.

I am quite interested in the older unices, and especially the potential
for home use on a smallish box of some sort.  (Nostalgia trip, but why
are most of us here?)

Sadly, my only experiences with PDP-11ish things are so long ago as to
be rather faded.  We used one box (two small chassis about 8 inches high
stacked together -- possibly PDP-8 or PDP-11) as some sort of remote job
entry terminal that the grad students would be occasionally allowed to
touch and load their SAS jobs up from (mid 70's) to the mainframe at
Iowa State U.   I remember the two DEC boxes and some sort of glass tty,
and a paper tape reader that was used to boot it in some way, should
the woeful grad student crash it late at night.  That got me rather
interested in computers and for several years after that time when I
came to NCSU, I tried all kinds of ways to fund and coerce some sort
of Heathkit version of that with some sort of early unix out of the
powers that be, but they tended to think it was computing and not
agronomy, so I wound up doing that with z80's and s-100 bus crates that
could be hooked up to the mainframe remotely via CP/M and paper tape or
81K floppies locally.  But, that has always perked my interest in the
old unix beasts.  I still have the old pdp-11 Heathkit manual sets and
builders instructions, should I find one in the bilges somewhere....(:+}}...

Anyway, I was noticing the pdp-11 system 5/6/7 binaries and the freebie
sco licenses on Minnie, and was wondering where to go for info on how
to bring the things up.  I saw one emulator for DOS? --- (neat way maybe
to use an old 4 meg dos box?).  Can these things be made to run via
a 386/486 bootstrap and emulator, on something like a minix/aix/FreeBSD
sort of machine?  I would expect something like a maintenance boot disk,
and a minimal file system to get the machine up and into the emulator
proper, might be feasible, maybe?

Also, I see pdp-11ish things in surplus around here quite often.
What would be needed to cobble together a system, for a minimal system 7
sort of box to play with?  If there were a list of required boards and
chassis for various levels of system, that might help a newbie get some
sort of machine together.

Thanks, and any comments for the newbie are appreciated.

Bob Keys
rdkeys at seedlab1.cropsci.ncsu.edu




Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id MAA02353
	for pups-liszt; Wed, 15 Apr 1998 12:39:48 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from serv1.is4.u-net.net (hme0.serv1.is4.u-net.net [195.102.240.153])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id MAA02348
	for <pups at minnie.cs.adfa.oz.au>; Wed, 15 Apr 1998 12:39:41 +1000 (EST)
Received: from indy.dunnington.york.ac.uk [195.102.197.125] 
	by serv1.is4.u-net.net with smtp (Exim 1.73 #1)
	id 0yPI6I-00072v-00; Wed, 15 Apr 1998 02:39:02 +0000
Received: by indy.dunnington.york.ac.uk (940816.SGI.8.6.9/980207.PNT)
	for pups at minnie.cs.adfa.oz.au id CAA09570; Wed, 15 Apr 1998 02:31:22 GMT
Date: Wed, 15 Apr 1998 02:31:22 GMT
From: pete@dunnington.u-net.com (Pete Turnbull)
X-Beware: experimental sendmail.cf 940816.SGI.8.6.9/980207.PNT
Message-Id: <9804150331.ZM9568 at indy.dunnington.york.ac.uk>
In-Reply-To: "Robert D. Keys" <rdkeys at seedlab1.cropsci.ncsu.edu>
        "PDP-11 Newbie Alert --- (gotta start somewhere)" (Apr 14, 14:44)
References: <199804141844.OAA03748 at seedlab1.cropsci.ncsu.edu>
Reply-To: pete at dunnington.u-net.com
X-Mailer: Z-Mail (3.2.2 10apr95 MediaMail)
To: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Apr 14, 14:44, Robert D. Keys wrote:

> I am quite interested in the older unices, and especially the potential
> for home use on a smallish box of some sort.  (Nostalgia trip, but why
> are most of us here?)

> Anyway, I was noticing the pdp-11 system 5/6/7 binaries and the freebie
> sco licenses on Minnie, and was wondering where to go for info on how
> to bring the things up.  I saw one emulator for DOS? --- (neat way maybe
> to use an old 4 meg dos box?).  Can these things be made to run via
> a 386/486 bootstrap and emulator, on something like a minix/aix/FreeBSD
> sort of machine?  I would expect something like a maintenance boot disk,
> and a minimal file system to get the machine up and into the emulator
> proper, might be feasible, maybe?

Yes, you want one of the emulator packages and a disk image for that.  BTW, the
disk images I've seen don't have man pages, so you may want to download those
separately.

> Also, I see pdp-11ish things in surplus around here quite often.
> What would be needed to cobble together a system, for a minimal system 7
> sort of box to play with?  If there were a list of required boards and
> chassis for various levels of system, that might help a newbie get some
> sort of machine together.

There are so many permutations, it's hard to make a list.  There are two
general classes of PDP-11, QBus and Unibus.  Most even-numbered models are
Unibus, most odd-numbered models are QBus (but not all).  QBus machines tend to
be smaller.

As to operating system versions, 2.11BSD needs at least an 11/73 or 83 to run,
as it needs memory management with separate address spaces for instructions and
data.  7th Edition will also run on those machines, and if the kernel is
suitably compiled, will also run on smaller machines such as 11/23s, which are
quite common.  Early versions will run on a whole range of models.

Whatever you get, you'll need a processor (which might be a single card or as
many as ten), memory (256K will do fine for 7th Edition, but more is better),
at least one serial line unit for a terminal (or PC with terminal emulation
software), and a disk controller with a suitable hard disk.  Here again there
are lots of possibilities, you want at least 10MB for 7th Edition and a lot
more for BSD.

Others may wish to expand on what I've written.  Personally, I'd go see what
you can find, describe it to the list, and wait for the 101 pieces of advice
you'll get from all of us about its suitability/desirability :-)

-- 

Pete						Peter Turnbull
						Dept. of Computer Science
						University of York

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id NAA02452
	for pups-liszt; Wed, 15 Apr 1998 13:09:43 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from renoir.op.net (root at renoir.op.net [209.152.193.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id NAA02444
	for <pups at minnie.cs.adfa.oz.au>; Wed, 15 Apr 1998 13:09:37 +1000 (EST)
Received: from goppelt.op.net (d-phlarc1-00.ppp.op.net [209.152.199.64]) by renoir.op.net (o1/$Revision: 1.16 $) with SMTP id XAA00267 for <pups at minnie.cs.adfa.oz.au>; Tue, 14 Apr 1998 23:09:25 -0400 (EDT)
Message-Id: <199804150309.XAA00267 at renoir.op.net>
Comments: Authenticated sender is <edgee at cyberpass.net>
From: "Ed G." <edgee@cyberpass.net>
To: pups at minnie.cs.adfa.oz.au
Date: Tue, 14 Apr 1998 23:09:26 -0400
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: PDP-11 Addressing Modes
Reply-to: edgee at cyberpass.net
X-mailer: Pegasus Mail for Win32 (v2.54)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

The first line of chapter on addressing modes in the *processor
handbook* states:

"In the PDP-11 family, all operand addressing is accomplished through
the eight general purpose registers."

If I understand correctly, even things like immediate operands and
addresses are represented as an addressing mode of a register, namely
the PC.  I think this is quite cool.

What do people here on the list think of the flexibility and 
generality of the PDP-11's addressing modes?  Is this a well thought
out architecture in your view?  How are the PDP-11's addressing modes
better or worse than those of other processors, past and present?

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id NAA02467
	for pups-liszt; Wed, 15 Apr 1998 13:09:51 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from renoir.op.net (root at renoir.op.net [209.152.193.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id NAA02451
	for <pups at minnie.cs.adfa.oz.au>; Wed, 15 Apr 1998 13:09:41 +1000 (EST)
Received: from goppelt.op.net (d-phlarc1-00.ppp.op.net [209.152.199.64]) by renoir.op.net (o1/$Revision: 1.16 $) with SMTP id XAA00270; Tue, 14 Apr 1998 23:09:28 -0400 (EDT)
Message-Id: <199804150309.XAA00270 at renoir.op.net>
Comments: Authenticated sender is <edgee at cyberpass.net>
From: "Ed G." <edgee@cyberpass.net>
To: pete at dunnington.u-net.com (Pete Turnbull)
Date: Tue, 14 Apr 1998 23:09:26 -0400
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: Re: Floating Point-How Important
Reply-to: edgee at cyberpass.net
CC: pups at minnie.cs.adfa.oz.au
In-reply-to: <9804111346.ZM7828 at indy.dunnington.york.ac.uk>
References: "Ed G." <edgee at cyberpass.net>        "Re: Floating Point-How Important to Unix?" (Apr 10, 22:40)
X-mailer: Pegasus Mail for Win32 (v2.54)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> What about position-independent code?

Your query got me thinking about the various addressing modes 
of the PDP-11 and how they might affect my brute force approach to 
estimating floating point ops for C programs.  Is this what you meant 
when you asked about position independent code?

And yes, these addressing modes could mean the death knell for my 
approach.

Index mode is definitely a problem as C programs seem to use r5 as a
frame pointer with both positive and *negative* 16 bit offsets (see
assembly language listing of my square root program below).

I don't think PC relative mode (e.g., clr addr) is a problem 
(if the data segment follows the text, then the offsets would all be 
positive and all less than the size of the program).

Is there such a thing as PC relative mode for the jmp op 
code?  In other words, can you make long + or -32K relative jumps on 
the PDP-11? If so, this too could potentially confound my estimates.

.globl	_absv
.text
_absv:
~~absv:
jsr	r5,csv
~n=4
jbr	L1
L2:clrf	r0
cmpf	4(r5),r0
cfcc
jge	L4
movf	4(r5),r0
negf	r0
jbr	L3
jbr	L5
L4:movf	4(r5),r0
jbr	L3
L5:L3:jmp	cret
L1:jbr	L2
.globl	_mysqrt
.text
_mysqrt:
~~mysqrt:
jsr	r5,csv
~n=4
jbr	L6
L7:~g=177762
~err=177752
movf	4(r5),r0
divf	$40400,r0
movf	r0,-16(r5)
.data
L10000:77777;177776;177777;177777
.text
movf	4(r5),r0
divf	L10000,r0
movf	r0,-26(r5)
movf	-16(r5),r0
movf	r0,-(sp)
mov	$L9,-(sp)
jsr	pc,_printf
add	$12,sp
L10:movf	-16(r5),r0
mulf	-16(r5),r0
subf	4(r5),r0
movf	r0,-(sp)
jsr	pc,_absv
add	$10,sp
cmpf	-26(r5),r0
cfcc
jgt	L11
movf	-16(r5),r0
mulf	-16(r5),r0
addf	4(r5),r0
movf	$40400,r1
mulf	-16(r5),r1
divf	r1,r0
movf	r0,-16(r5)
movf	-16(r5),r0
movf	r0,-(sp)
mov	$L12,-(sp)
jsr	pc,_printf
add	$12,sp
jbr	L10
L11:movf	-16(r5),r0
jbr	L8
L8:jmp	cret
L6:sub	$20,sp
jbr	L7
.globl	_main
.text
_main:
~~main:
jsr	r5,csv
jbr	L13
L14:.data
L10001:77777;177776;177777;177777
.text
movf	L10001,r0
movf	r0,-16(r5)
~n=177762
movf	-16(r5),r0
movf	r0,-(sp)
jsr	pc,_mysqrt
add	$10,sp
movf	r0,-(sp)
mov	$L16,-(sp)
jsr	pc,_printf
add	$12,sp
L15:jmp	cret
L13:sub	$10,sp
jbr	L14
.globl	fltused
.globl
.data
L9:.byte 111,156,151,164,151,141,154,40,147,165,145,163,163,72
.byte 40,45,56,61,66,146,12,12,0
L12:.byte 147,165,145,163,163,72,40,45,56,61,66,146,12,0
L16:.byte 12,115,171,40,163,161,165,141,162,145,40,162,157,157
.byte 164,40,151,163,72,40,45,56,61,66,146,12,0

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id NAA02612
	for pups-liszt; Wed, 15 Apr 1998 13:54:11 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from europe.std.com (europe.std.com [199.172.62.20])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id NAA02607
	for <pups at minnie.cs.adfa.oz.au>; Wed, 15 Apr 1998 13:54:06 +1000 (EST)
Received: from world.std.com by europe.std.com (8.7.6/BZS-8-1.0)
	id XAA06690; Tue, 14 Apr 1998 23:54:00 -0400 (EDT)
Received: by world.std.com (TheWorld/Spike-2.0)
	id AA11012; Tue, 14 Apr 1998 23:53:58 -0400
Date: Tue, 14 Apr 1998 23:53:58 -0400
From: allisonp@world.std.com (Allison J Parent)
Message-Id: <199804150353.AA11012 at world.std.com>
To: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Addressing Modes
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk


<"In the PDP-11 family, all operand addressing is accomplished through
<the eight general purpose registers."
<
<If I understand correctly, even things like immediate operands and
<addresses are represented as an addressing mode of a register, namely
<the PC.  I think this is quite cool.

Same for stack relative access.

The PDP-11 archetecture was an example of CISC to the max for 16 bit 
machines, compared to most micros it has more and richers instruction
set, addressing modes and highlights what can be attained when all 
registers are general.  Added to a two address structure those registers 
and addressing modes make for flexibility and programming power.

...yes a PC relative jump could easily be done with an add r7!

<What do people here on the list think of the flexibility and 
<generality of the PDP-11's addressing modes?  Is this a well thought
<out architecture in your view?  How are the PDP-11's addressing modes
<better or worse than those of other processors, past and present?

Personally I consider it a high point in 16 bit computing and one that 
is a standard of comparison.  VAX carried this to the 32bit realm.  I
know of few 16 bit microprocessors that are as capable as the PDP-11 
and as fast (the ti9900 was good but slow, Z8000 was close).  The 
various chip versions of the PDP-11 (lsi11, T11, F11, J11) have achieved
performace exceeding many of the conteporary microprocessors in code
density and execution speed.  The PDP-11 and the C language are an 
excellent match, both for addressing modes and effienctcy of compilation.
It is also a good foundation for FORTH.

Terrible cpu, we should junk them all... ;-)   ...so I can collect them.

Allison



Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id XAA04120
	for pups-liszt; Wed, 15 Apr 1998 23:14:24 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from toes.its.uwlax.edu (toes.its.uwlax.edu [138.49.128.183])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id XAA04115
	for <pups at minnie.cs.adfa.oz.au>; Wed, 15 Apr 1998 23:14:16 +1000 (EST)
Received: by toes.its.uwlax.edu;
          id AA04337; NX5.67e/42; Wed, 15 Apr 98 08:17:50 -0500
Message-Id: <9804151317.AA04337 at toes.its.uwlax.edu>
Mime-Version: 1.0 (NeXT Mail 3.3 v118.2)
Content-Type: text/plain; charset=us-ascii
Received: by NeXT.Mailer (1.118.2.RR)
From: Milo Velimirovic <milov@toes.its.uwlax.edu>
Date: Wed, 15 Apr 98 08:17:47 -0500
To: pete at dunnington.u-net.com
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
Cc: pups at minnie.cs.adfa.oz.au
Reply-To: milov at toes.its.uwlax.edu
References: <199804141844.OAA03748 at seedlab1.cropsci.ncsu.edu>
	<9804150331.ZM9568 at indy.dunnington.york.ac.uk>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by minnie.cs.adfa.oz.au id XAA04116
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

Hi,

>
>
>Begin forwarded message:
>[snip]
>On Apr 14, 14:44, Robert D. Keys wrote:
>
[snip]

>
>> Also, I see pdp-11ish things in surplus around here quite often.
>> What would be needed to cobble together a system, for a minimal system 7
>> sort of box to play with?  If there were a list of required boards and
>> chassis for various levels of system, that might help a newbie get some
>> sort of machine together.
>
>There are so many permutations, it's hard to make a list.  There are two
>general classes of PDP-11, QBus and Unibus.  Most even-numbered models are
>Unibus, most odd-numbered models are QBus (but not all).  QBus machines tend to
>be smaller.

QBUS 11/2 11/03 11/23 11/53 11/73 11/83
Unibus 11/05 11/10 11/15 11/20 11/24 11/3411/35 11/40 11/44 11/45 11/55 11/60 11/70 11/84...

Odd numbered machines where the odd digit is a 5 are usually a Unibus machine.
(They're also old and will eat you out of house and home with their appetite
for electricity. :) 

Has anyone looked at the possibility of retrofitting older pdp11's with modern
switching power supplies to ease the electricity demands...?  
(donning asbestos suit in anticipation of cries of "heretic" and "Frankenstein"...)
>
>As to operating system versions, 2.11BSD needs at least an 11/73 or 83 to run,

How about an 11/44? 

>as it needs memory management with separate address spaces for instructions and
>data.  7th Edition will also run on those machines, and if the kernel is
>suitably compiled, will also run on smaller machines such as 11/23s, which are
>quite common.  Early versions will run on a whole range of models.
>
>Whatever you get, you'll need a processor (which might be a single card or as
>many as ten), memory (256K will do fine for 7th Edition, but more is better),
>at least one serial line unit for a terminal (or PC with terminal emulation
>software), and a disk controller with a suitable hard disk.  Here again there
>are lots of possibilities, you want at least 10MB for 7th Edition and a lot
>more for BSD.
>
>Others may wish to expand on what I've written.  Personally, I'd go see what
>you can find, describe it to the list, and wait for the 101 pieces of advice
>you'll get from all of us about its suitability/desirability :-)
>
>-- 
>
>Pete						Peter Turnbull
>						Dept. of Computer Science
>						University of York
>
---
Milo Velimirovic       <Milo.Velimirovic at uwlax.edu>
Unix Computer Network Administrator  (608) 785-8030
Information Technology Services -- Network Services
University of Wisconsin - La Crosse
La Crosse, Wisconsin 54601 USA    43 48 05 N 91 14 22 W



Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id AAA04293
	for pups-liszt; Thu, 16 Apr 1998 00:03:10 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from alph02.triumf.ca (alph02.Triumf.CA [142.90.114.18])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id AAA04288
	for <pups at minnie.CS.ADFA.OZ.AU>; Thu, 16 Apr 1998 00:03:04 +1000 (EST)
Received: by alph02.triumf.ca; id AA13468; Wed, 15 Apr 1998 07:03:00 -0700
From: Tim Shoppa <shoppa@alph02.triumf.ca>
Message-Id: <9804151403.AA13468 at alph02.triumf.ca>
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
To: pups at minnie.cs.adfa.oz.au
Date: Wed, 15 Apr 1998 07:03:00 -0800 (PDT)
In-Reply-To: <9804151317.AA04337 at toes.its.uwlax.edu> from "Milo Velimirovic" at Apr 15, 98 08:17:47 am
X-Mailer: ELM [version 2.4 PL22]
Content-Type: text
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> Has anyone looked at the possibility of retrofitting older pdp11's with modern
> switching power supplies to ease the electricity demands...?  
> (donning asbestos suit in anticipation of cries of "heretic" and "Frankenstein"...)

It's hardly heretical - all Unibus 11's have always had switching
power supplies for the high-current (+5V and - for core machines - +20V)
lines.  Depending on the exact model, +15 and/or -15 may have come
from a linear power supply, but these are very low-current lines and
not a major factor in power consumption.

The way to greatly reduce the power consumption of a big Unibus -11
is to go to a more modern CPU and memory in the original backplane.
For an extreme example, a 11/70 with 2 MW of core memory in MJ11 boxes
will draw about 70 Amps at 120 VAC, for over 8kW of power consumption.
But you can replace the 11/70 CPU set with a Quickware replacment
and take the CPU part of power consumption down to 3 or so Amps at
120 VAC, or under 0.4kW.

> >As to operating system versions, 2.11BSD needs at least an 11/73 or 83 to run,
> 
> How about an 11/44? 

Yep, does work.  (I had always been promising Steven that I would get
the FP emulator working so I could run it on my FP-less 11/44, but
I got a FP board before I got the emulator going.  So you need the FP
board for a 11/44, still!)

Tim.

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id AAA04313
	for pups-liszt; Thu, 16 Apr 1998 00:06:49 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from alph02.triumf.ca (alph02.Triumf.CA [142.90.114.18])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id AAA04308
	for <pups at minnie.CS.ADFA.OZ.AU>; Thu, 16 Apr 1998 00:06:44 +1000 (EST)
Received: by alph02.triumf.ca; id AA09801; Wed, 15 Apr 1998 07:06:41 -0700
From: Tim Shoppa <shoppa@alph02.triumf.ca>
Message-Id: <9804151406.AA09801 at alph02.triumf.ca>
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
To: pups at minnie.cs.adfa.oz.au
Date: Wed, 15 Apr 1998 07:06:41 -0800 (PDT)
In-Reply-To: <9804150331.ZM9568 at indy.dunnington.york.ac.uk> from "Pete Turnbull" at Apr 15, 98 02:31:22 am
X-Mailer: ELM [version 2.4 PL22]
Content-Type: text
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> Whatever you get, you'll need a processor (which might be a single card or as
> many as ten), memory (256K will do fine for 7th Edition, but more is better),
> at least one serial line unit for a terminal (or PC with terminal emulation
> software), and a disk controller with a suitable hard disk.  Here again there
> are lots of possibilities, you want at least 10MB for 7th Edition and a lot
> more for BSD.

One important point to note is that if you want support for modern MSCP
disk devices, you want to go with 2.11BSD.  The most modern disk devices
supported by 7th Edition are the RL02 and the various Massbus disks.

Tim. (shoppa at triumf.ca)

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id AAA04414
	for pups-liszt; Thu, 16 Apr 1998 00:29:07 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from seedlab1.cropsci.ncsu.edu (seedlab1.cropsci.ncsu.edu [152.1.88.4])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id AAA04409
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 00:28:59 +1000 (EST)
Received: (from rdkeys at localhost)
	by seedlab1.cropsci.ncsu.edu (8.8.7/8.8.7) id KAA04925;
	Wed, 15 Apr 1998 10:25:26 -0400 (EDT)
From: "Robert D. Keys" <rdkeys@seedlab1.cropsci.ncsu.edu>
Message-Id: <199804151425.KAA04925 at seedlab1.cropsci.ncsu.edu>
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
In-Reply-To: <9804151317.AA04337 at toes.its.uwlax.edu> from Milo Velimirovic at "Apr 15, 98 08:17:47 am"
To: milov at toes.its.uwlax.edu
Date: Wed, 15 Apr 1998 10:25:26 -0400 (EDT)
Cc: pete at dunnington.u-net.com, pups at minnie.cs.adfa.oz.au
X-Mailer: ELM [version 2.4ME+ PL32 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

> >There are so many permutations, it's hard to make a list.  There are two
> >general classes of PDP-11, QBus and Unibus.  Most even-numbered models are
> >Unibus, most odd-numbered models are QBus (but not all).  QBus machines tend
> >to be smaller.
> 
> QBUS 11/2 11/03 11/23 11/53 11/73 11/83
> Unibus 11/05 11/10 11/15 11/20 11/24 11/3411/35 11/40 11/44 11/45 11/55
>        11/60 11/70 11/84...
> 
> Odd numbered machines where the odd digit is a 5 are usually a Unibus machine.

Which would be the ones to look out for for practical unix use?

> (They're also old and will eat you out of house and home with their appetite
> for electricity. :) 

I have heard that from the computer students around here who chuckle at
the thought that I would attempt to run such a beastie.  They are chasing
Alphas and Pentiums, whilst I am chasing pdp11s?  Interesting directions.

For the sake of discussion, what sorts of power requirements would be
required for a lowend version 7 or 2.11 BSD box?  Say that I wanted
a machine that would allow me to troff/Tex a little, and do some
minor C compiling, associated with that.

> Has anyone looked at the possibility of retrofitting older pdp11's with modern
> switching power supplies to ease the electricity demands...?  

I often use old DEC linear power supplies to run some of my antique radio
equipment.  The power supplies themselves are not that much of an efficiency
thing, but the loads probably are.  Minimizing unneeded loads on a home
system would be of merit.  That is why I was wondering what sort of mininmal
box would do for home use, and still give some kind of reasonable service.
The electicity mongers need to be fed, but I don't need to treat them
to a full 7 course meal every day.

Are there special electrical requirements?  I can always find a separate
20 or 30 amp 115 volt circuit, but the 220 lines are tied up in my
antique radio transmitters.  Just how hungry are these pdp11s?

> (donning asbestos suit in anticipation of cries of "heretic" and
> "Frankenstein"...)

Don't worry, I still keep my ol' net asbestos flak suit hanging up in the
corner, for occasional donning.....(:+}}....  It is a little dusty.
It be faire windes and following seas about the net mostly, these days.
I consider it great fun to resurrect the old dinosaurs.  I still keep
a few 8 inch CP/M S-100 boxes running, for fun.  Alas, finding parts is
always a problem, anymore, especially in the deep south where silicon
valley ain't.  You have to make do with what you can cobble together.
I find that I mix and mash parts from old surplus radio equipment, 
computers, or whatever until I can make the thing work.  That is as
much the fun of it as actually watching the platters whirr and spin.

> >As to operating system versions, 2.11BSD needs at least an 11/73 or 83
> >to run,
> 
> How about an 11/44? 
> 
> >as it needs memory management with separate address spaces for instructions
> >and data.  7th Edition will also run on those machines, and if the kernel is
> >suitably compiled, will also run on smaller machines such as 11/23s, which
> >are quite common.  Early versions will run on a whole range of models.

What exactly were the Heathkit things in relation to the mainstream pdp11s?
There was a unix that was available on the Heathkit boxes, but I never did
get enough money together at the time to get one --- had to settle for that
CP/M thingie, instead.

> >Whatever you get, you'll need a processor (which might be a single card or as
> >many as ten), memory (256K will do fine for 7th Edition, but more is better),
> >at least one serial line unit for a terminal (or PC with terminal emulation
> >software), and a disk controller with a suitable hard disk.  Here again there
> >are lots of possibilities, you want at least 10MB for 7th Edition and a lot
> >more for BSD.

What would BSD be comfy with, with a little space for play.  I remember
the old Xenix boxes that we had (RS 16B things) ran a sort of v7 in about
15 megs HD.  The FreeBSD things require 100 or so megs to come up.
What sizes of HD would one be looking out for, in the surplus piles?

> >Others may wish to expand on what I've written.  Personally, I'd go see what
> >you can find, describe it to the list, and wait for the 101 pieces of advice
> >you'll get from all of us about its suitability/desirability :-)

I enjoy all the advice and comments.

Thanks to all for them.

Bob Keys


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id BAA04630
	for pups-liszt; Thu, 16 Apr 1998 01:34:50 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from moe.2bsd.com (0 at MOE.2BSD.COM [206.139.202.200])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id BAA04625
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 01:34:44 +1000 (EST)
Received: (from sms at localhost)
	by moe.2bsd.com (8.8.5/8.8.5) id IAA22441
	for pups at minnie.cs.adfa.oz.au; Wed, 15 Apr 1998 08:22:57 -0700 (PDT)
Date: Wed, 15 Apr 1998 08:22:57 -0700 (PDT)
From: "Steven M. Schultz" <sms@moe.2bsd.com>
Message-Id: <199804151522.IAA22441 at moe.2bsd.com>
To: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

Milo -

	Hi.

> From: Milo Velimirovic <milov at toes.its.uwlax.edu>
> 
> How about an 11/44? 
	
	Indeed the 11/44 will work and very well with 2.11BSD.  Before the
	one at work got shutdown (RA81 failure and the support department here
	doesn't like PDP-11s and refuses to help fix it) the care and feeding
	of 2.11 was shared between a 11/44 (for UNIBUS related stuff) and a
	11/73 (for QBUS).

	The 11/84 and 94 will also work very well.  Qbus models from the 11/53
	on up will also work (the 53 hasn't actually been 'tested' but "should"
	work, the 73, 83, 93 are all known to work).

	While the 11/45 has the MMU aspects required (split I/D and supervisor
	mode) it doesn't support enough memory.  The 11/45 can only have 248kb
	of memory and a full 2.11 kernel+networking+diskcache+datastructures 
	setup weighs in at almost 400kb

	Steven


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id BAA04752
	for pups-liszt; Thu, 16 Apr 1998 01:50:59 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from europe.std.com (europe.std.com [199.172.62.20])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id BAA04744
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 01:50:52 +1000 (EST)
Received: from world.std.com by europe.std.com (8.7.6/BZS-8-1.0)
	id LAA20390; Wed, 15 Apr 1998 11:50:48 -0400 (EDT)
Received: by world.std.com (TheWorld/Spike-2.0)
	id AA21199; Wed, 15 Apr 1998 11:50:47 -0400
Date: Wed, 15 Apr 1998 11:50:47 -0400
From: allisonp@world.std.com (Allison J Parent)
Message-Id: <199804151550.AA21199 at world.std.com>
To: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk


<> QBUS 11/2 11/03 11/23 11/53 11/73 11/83

<> (They're also old and will eat you out of house and home with their app
<> for electricity. :) 

None the above systems are tough it really depends on the disks used.  The 
later of the three in the microPDP-11 format (ba23/123) are very resonable 
using MSCP and MFM drives.  The QBUS-11s are modest power compared to the 
Ubus-11s.

Also the Qbus-11s win in the small sizing as well.  I have two BA11n boxen 
one with 11/23b and the other 11/73, RX02, RL02, and MSCP disks all in one
50" rack.

<For the sake of discussion, what sorts of power requirements would be
<required for a lowend version 7 or 2.11 BSD box?  Say that I wanted
<a machine that would allow me to troff/Tex a little, and do some
<minor C compiling, associated with that.

A qbus 11/73 (or 83)  a meg of ram and disks would be comfortably under 
500 watts.  Adding an RL02 is not painful though it uses more than the 
CPU box total.  The massbus disks or RK/RMs are high power just for the 
spindle motors.

<> Has anyone looked at the possibility of retrofitting older pdp11's with
<> switching power supplies to ease the electricity demands...?  

You could if you set up event, ACOK and DCOK.  Most of the DEC supplies 
are actually lowvoltage switchers (744s) and the later ones are high 
voltage swicthers (BA11s/BA32/BA123... all qbus).

<Are there special electrical requirements?  I can always find a separate
<20 or 30 amp 115 volt circuit, but the 220 lines are tied up in my
<antique radio transmitters.  Just how hungry are these pdp11s?

The bigger Ubus machines and some of the bigger (physically too) disks
are killer though most common PDP11s are really quite moderate to small in 
their needs.

<I consider it great fun to resurrect the old dinosaurs.  I still keep
<a few 8 inch CP/M S-100 boxes running, for fun.  Alas, finding parts is

Smae here, the CCS2200 with DISCUS 10m and two SA800s challenge the 11/23
for power needed!

<What exactly were the Heathkit things in relation to the mainstream pdp11
<There was a unix that was available on the Heathkit boxes, but I never di
<get enough money together at the time to get one --- had to settle for th
<CP/M thingie, instead.

The H11 was a LSI11/03 cpu with heath equivelents for DLs and memorys, the 
disks however were strange.

<What would BSD be comfy with, with a little space for play.  I remember
<the old Xenix boxes that we had (RS 16B things) ran a sort of v7 in abou
<15 megs HD.  The FreeBSD things require 100 or so megs to come up.
<What sizes of HD would one be looking out for, in the surplus piles?

I ahve V7 up on an 11/73 on one RL02 pack (10mb) and it's cramped with 
about 4mb free.  Two RL02s would be pretty good.  If I can get 2.11 up
that will talk to the MSCP disks RD52(31mb)/53(71mb) and I'd expect plenty 
of space then.

Allison


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id CAA04969
	for pups-liszt; Thu, 16 Apr 1998 02:42:34 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from toad.xkl.com (toad.xkl.com [192.94.202.40])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id CAA04964
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 02:42:27 +1000 (EST)
Date: Wed, 15 Apr 1998 09:39:56 -0700
From: "Daniel A. Seagraves" <DSEAGRAV@toad.xkl.com>
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
To: allisonp at world.std.com
cc: pups at minnie.cs.adfa.oz.au
In-Reply-To: <199804151550.AA21199 at world.std.com>
Message-ID: <13348030224.14.DSEAGRAV at toad.xkl.com>
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

[What PDP-11s run Unix...]
I currently run Version 7 on a PDP-11/83 Q-bus box stored under my bed.
(I have a hospital bed, the kind you can crank up and down - Mine's about
3/4 the way up)
The RL02 I boot from is twice the size of the CPU!
I also have an MSCP device that I load RT-11 from.
BTW, there is a setting in the '83 Setup program called allow-alternate-bootblock,
you can directly boot Unix by enabling this.  Does that work on an 11/73 as well?
I just turn on the RL, start the disk and the CPU at the same time, and the disk
comes ready just at the 9-step check finishes.
I say unix and off it goes.
Now, I I could just get it to see my DHQ11...
-------

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id DAA05100
	for pups-liszt; Thu, 16 Apr 1998 03:26:30 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from hesiod.nhh.no (root at hesiod.nhh.no [158.37.96.15])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id DAA05095
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 03:26:22 +1000 (EST)
Received: from athene.nhh.no (root at athene.nhh.no [158.37.96.16])
	by hesiod.nhh.no (8.8.5/8.8.5) with ESMTP id TAA28669;
	Wed, 15 Apr 1998 19:26:02 +0200 (CEST)
Received: from Hamartun.Priv.NO (Uhamartu at localhost)
	by athene.nhh.no (8.8.5/8.8.5) with UUCP id TAA21659;
	Wed, 15 Apr 1998 19:21:21 +0200 (CEST)
Received: (from tih at localhost)
	by barsoom.Hamartun.Priv.NO (8.8.8/8.8.8) id SAA22652;
	Wed, 15 Apr 1998 18:42:56 +0200 (CEST)
To: edgee at cyberpass.net
Cc: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Addressing Modes
References: <199804150309.XAA00267 at renoir.op.net>
From: Tom Ivar Helbekkmo <tih+mail@Hamartun.Priv.NO>
Date: 15 Apr 1998 18:42:54 +0200
In-Reply-To: "Ed G."'s message of "Tue, 14 Apr 1998 23:09:26 -0400"
Message-ID: <86ogy3kpdd.fsf at barsoom.Hamartun.Priv.NO>
Lines: 28
X-Mailer: Gnus v5.6.4/Emacs 19.34
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

"Ed G." <edgee at cyberpass.net> writes:

> What do people here on the list think of the flexibility and 
> generality of the PDP-11's addressing modes?  Is this a well thought
> out architecture in your view?  How are the PDP-11's addressing modes
> better or worse than those of other processors, past and present?

It's simply beautiful.  The PDP-11 architecture is the pinnacle of
16-bit computing, as the 6502 (the world's first RISC chip) is the
unchallenged champion of elegance in 8-bit microprocessors.  The
cleanliness and orthogonality of the PDP-11 is a wonder to behold.
To top it off, they also knew when to _break_ orthogonality to make
proper use of the addressing mode bit combinations that don't make
sense for use with the program counter.

A good friend of mine, for whom I have much respect, claims that the
PDP-10 is even more beautiful.  I can't comment on this, not knowing
that architecture, but myself I've seen nothing to challenge the '11.

Among more modern processors, I'm quite partial to Motorola's MC68K.
I also like the Transputer -- who doesn't?  As for microcontrollers,
I've worked quite a bit with the Intel MCS-51 chips, and enjoyed it.

For the definition of "butt ugly", see the Intel i386 and its ilk.

-tih
-- 
Popularity is the hallmark of mediocrity.  --Niles Crane, "Frasier"

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id EAA05275
	for pups-liszt; Thu, 16 Apr 1998 04:18:46 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from toad.xkl.com (toad.xkl.com [192.94.202.40])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id EAA05268
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 04:18:39 +1000 (EST)
Date: Wed, 15 Apr 1998 11:16:24 -0700
From: "Daniel A. Seagraves" <DSEAGRAV@toad.xkl.com>
Subject: Re: PDP-11 Addressing Modes
To: tih+mail at Hamartun.Priv.NO
cc: edgee at cyberpass.net, pups at minnie.cs.adfa.oz.au
In-Reply-To: <86ogy3kpdd.fsf at barsoom.Hamartun.Priv.NO>
Message-ID: <13348047785.14.DSEAGRAV at toad.xkl.com>
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

[PDP-10 inst. set is nicer than PDP-11...]

Not sure about that, I haven't play with either enough to compare them.
But, judging by the pictures I have, a PDP-11/70 is about 1/2 as cool looking
as a KA-10!

[I *HAVE* to scan these and put them online sometime...]
-------

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id EAA05338
	for pups-liszt; Thu, 16 Apr 1998 04:26:15 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from hesiod.nhh.no (root at hesiod.nhh.no [158.37.96.15])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id EAA05332
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 04:26:08 +1000 (EST)
Received: from athene.nhh.no (root at athene.nhh.no [158.37.96.16])
	by hesiod.nhh.no (8.8.5/8.8.5) with ESMTP id UAA00359;
	Wed, 15 Apr 1998 20:26:02 +0200 (CEST)
Received: from Hamartun.Priv.NO (Uhamartu at localhost)
	by athene.nhh.no (8.8.5/8.8.5) with UUCP id UAA21718;
	Wed, 15 Apr 1998 20:21:36 +0200 (CEST)
Received: (from tih at localhost)
	by barsoom.Hamartun.Priv.NO (8.8.8/8.8.8) id UAA22982;
	Wed, 15 Apr 1998 20:02:04 +0200 (CEST)
To: "Steven M. Schultz" <sms at moe.2bsd.com>
Cc: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
References: <199804151522.IAA22441 at moe.2bsd.com>
From: Tom Ivar Helbekkmo <tih+mail@Hamartun.Priv.NO>
Date: 15 Apr 1998 20:02:02 +0200
In-Reply-To: "Steven M. Schultz"'s message of "Wed, 15 Apr 1998 08:22:57 -0700 (PDT)"
Message-ID: <86g1jfklph.fsf at barsoom.Hamartun.Priv.NO>
Lines: 16
X-Mailer: Gnus v5.6.4/Emacs 19.34
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

"Steven M. Schultz" <sms at moe.2bsd.com> writes:

> 	Indeed the 11/44 will work and very well with 2.11BSD.  Before the
> 	one at work got shutdown (RA81 failure and the support department here
> 	doesn't like PDP-11s and refuses to help fix it) the care and feeding
> 	of 2.11 was shared between a 11/44 (for UNIBUS related stuff) and a
> 	11/73 (for QBUS).

Do you have the documentation you need for that RA81, Steven?  I've
got the user's manual here, which isn't much, of course, but at least
tells you how to hook up a terminal, run diagnostics, and interpret
the results...

-tih
-- 
Popularity is the hallmark of mediocrity.  --Niles Crane, "Frasier"

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id FAA05651
	for pups-liszt; Thu, 16 Apr 1998 05:49:32 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from Zeke.Update.UU.SE (2026 at Zeke.Update.UU.SE [130.238.11.14])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id FAA05645
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 05:48:47 +1000 (EST)
Received: from localhost (bqt at localhost)
	by Zeke.Update.UU.SE (8.8.8/8.8.8) with SMTP id VAA08980;
	Wed, 15 Apr 1998 21:48:03 +0200
Date: Wed, 15 Apr 1998 21:48:00 +0200 (MET DST)
From: Johnny Billquist <bqt@Update.UU.SE>
To: "Ed G." <edgee at cyberpass.net>
cc: pups at minnie.cs.adfa.oz.au
Subject: Re: Floating Point-How Important to Unix?
In-Reply-To: <199804110246.WAA07393 at renoir.op.net>
Message-ID: <Pine.VUL.3.93.980415214003.8466A-100000 at Zeke.Update.UU.SE>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Fri, 10 Apr 1998, Ed G. wrote:

> My purpose here was to get a sense for how heavily the Unix utilities
> rely on floating point.  I was not looking for a numerically exact 
> "right" answer, but rather an estimate which was good enough.
> 
> At this point, now that I have access to the source code, it seems to 
> me that an easier and more accurate way of doing that would be to 
> count the occurences of floats and doubles using grep or a similar 
> utility.  What do you all think?

Would probably be a better idea, yes. :-)

> > You are making atleast four assumptions which are wrong here.
> > 
> > 1) Data starts from address 0. They most likely do not.
> 
> I'm not sure what you mean here; can you elaborate?  
> 
> As I see it my key assumption about data was that it is 
> relatively small in size compared to code in a given program file.  
> This was certainly the case with factor, where less than 10% of the 
> runtime image consisted of static data.

But you made an assumption that addrtesses to data don't come in theflt.
op-code range, since few programs have that much data. But, by assuming
that they don't have "that much" data, you must also assume that whatever
little dtaa there is don't start at a high address. Your program can have
as little as one word of data, located at 177776, referenced a zillion
times, and your algorithm will catch it as a zillion flt. ops.

> > 3) All data are not words. How about bytes? If a byte is in the range
> >    240-255 and on an odd address, you'll catch it as a FP opcode.
> 
> My routine scanned words, not bytes, so I don't think this would 
> apply.

Oh, it most definitely does.

Tell me, what is the difference between a string of two bytes, a word, and
an instruction in memory?

Nothing. It's just a question of how you look at it.

So when you are talking about a word, how do you know that the programmer
didn't write two bytes there?

The reason I said "odd addres" was because the byte at the odd address is
the high byte of the word you are looking at.

> > 4) Not all data are addresses. Most negative numbers will have 17 as the
> >    high four bits.
> 
> This is true.  But if data is negligible compared to code, then I
> don't see how this wouldn't affect an estimate very much.

That is a good point. But it's still a problem.
The point is more or less always, but a lot of small errors...
:-)

	Johnny

Johnny Billquist                  || "I'm on a bus
                                  ||  on a psychedelic trip
email: bqt at update.uu.se           ||  Reading murder books
pdp is alive!                     ||  tryin' to stay hip" - B. Idol


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id GAA05701
	for pups-liszt; Thu, 16 Apr 1998 06:07:06 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from Zeke.Update.UU.SE (2026 at Zeke.Update.UU.SE [130.238.11.14])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id GAA05696
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 06:06:49 +1000 (EST)
Received: from localhost (bqt at localhost)
	by Zeke.Update.UU.SE (8.8.8/8.8.8) with SMTP id WAA09548;
	Wed, 15 Apr 1998 22:06:31 +0200
Date: Wed, 15 Apr 1998 22:06:30 +0200 (MET DST)
From: Johnny Billquist <bqt@Update.UU.SE>
To: "Ed G." <edgee at cyberpass.net>
cc: John Holden <johnh at psychvax.psych.usyd.edu.au>, pups at minnie.cs.adfa.oz.au
Subject: Re: Floating Point-How Important to Unix?
In-Reply-To: <199804110245.WAA07386 at renoir.op.net>
Message-ID: <Pine.VUL.3.93.980415215418.9250A-100000 at Zeke.Update.UU.SE>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Fri, 10 Apr 1998, Ed G. wrote:

> I am not an expert on PDP-11 op codes, so you may well be right about 
> this.  
> 
> In response to your criticism, I looked up jmp and branch 
> instructions in the *Processor Handbook*.  Based only on my quick 
> skim of the handbook, I don't think negative relative addresses would 
> be a problem because: 
> 
> 1. branch instructions are followed by a signed byte offset (-128, 
> 127).  This would not be a problem for my routine which only looks at 
> the first four bits of every word and would ignore the offset in the 
> odd byte.

Correct.

> 2. jump instructions, which seem at first glance to be a problem 
> because they are followed by a 16 bit word, are not because they 
> always use absolute addressing, never relative and hence would never 
> be followed by a negative number.

2 wrong.

. Where did you get the idea that jump instructions have to be absolute?
. What about jumps to absolute addresses in the flt. op-code range?

I'm not sure about the 2BSD assembler, but the normal way of coding is to
have *all* addressing relative in the DEC assemblers. That means not just
jumps, but all instructions which takes arguments.
Almost all have word arguments, branch being one of the few exceptions.

	Johnny

Johnny Billquist                  || "I'm on a bus
                                  ||  on a psychedelic trip
email: bqt at update.uu.se           ||  Reading murder books
pdp is alive!                     ||  tryin' to stay hip" - B. Idol


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id GAA05804
	for pups-liszt; Thu, 16 Apr 1998 06:33:36 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from Zeke.Update.UU.SE (2026 at Zeke.Update.UU.SE [130.238.11.14])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id GAA05798
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 06:33:29 +1000 (EST)
Received: from localhost (bqt at localhost)
	by Zeke.Update.UU.SE (8.8.8/8.8.8) with SMTP id WAA10435;
	Wed, 15 Apr 1998 22:33:21 +0200
Date: Wed, 15 Apr 1998 22:33:19 +0200 (MET DST)
From: Johnny Billquist <bqt@Update.UU.SE>
To: "Ed G." <edgee at cyberpass.net>
cc: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Addressing Modes
In-Reply-To: <199804150309.XAA00267 at renoir.op.net>
Message-ID: <Pine.VUL.3.93.980415223118.9250F-100000 at Zeke.Update.UU.SE>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Tue, 14 Apr 1998, Ed G. wrote:

> The first line of chapter on addressing modes in the *processor
> handbook* states:
> 
> "In the PDP-11 family, all operand addressing is accomplished through
> the eight general purpose registers."
> 
> If I understand correctly, even things like immediate operands and
> addresses are represented as an addressing mode of a register, namely
> the PC.  I think this is quite cool.
> 
> What do people here on the list think of the flexibility and 
> generality of the PDP-11's addressing modes?  Is this a well thought
> out architecture in your view?  How are the PDP-11's addressing modes
> better or worse than those of other processors, past and present?

The PDP-11 did it right, all others did it wrong. :-)

Well, at least as long as you're talking about general register machines.
(And points could be made that the M68K isn't very general about its
registers...)

For accumulator machines, I guess the vote goes to the PDP-10.

All with a big :-) of course. This is religion...

	Johnny

Johnny Billquist                  || "I'm on a bus
                                  ||  on a psychedelic trip
email: bqt at update.uu.se           ||  Reading murder books
pdp is alive!                     ||  tryin' to stay hip" - B. Idol


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id GAA05852
	for pups-liszt; Thu, 16 Apr 1998 06:42:10 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from Zeke.Update.UU.SE (2026 at Zeke.Update.UU.SE [130.238.11.14])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id GAA05847
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 06:41:13 +1000 (EST)
Received: from localhost (bqt at localhost)
	by Zeke.Update.UU.SE (8.8.8/8.8.8) with SMTP id WAA10538;
	Wed, 15 Apr 1998 22:41:03 +0200
Date: Wed, 15 Apr 1998 22:41:02 +0200 (MET DST)
From: Johnny Billquist <bqt@Update.UU.SE>
To: Milo Velimirovic <milov at toes.its.uwlax.edu>
cc: pete at dunnington.u-net.com, pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
In-Reply-To: <9804151317.AA04337 at toes.its.uwlax.edu>
Message-ID: <Pine.VUL.3.93.980415223736.9250G-100000 at Zeke.Update.UU.SE>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Wed, 15 Apr 1998, Milo Velimirovic wrote:

> QBUS 11/2 11/03 11/23 11/53 11/73 11/83
> Unibus 11/05 11/10 11/15 11/20 11/24 11/3411/35 11/40 11/44 11/45 11/55 11/60 11/70 11/84...

Two additions to make the list officially complete:

QBUS: 11/93
Unibus: 11/94

The last PDP-11s by DEC.

Then you have the never-11s. (See the FAQ.)

> Odd numbered machines where the odd digit is a 5 are usually a Unibus machine.
> (They're also old and will eat you out of house and home with their appetite
> for electricity. :) 

They are also normally just about the same machine as the next number in
line, but for OEM markets.

11/05 - 11/10
11/15 - 11/20
11/35 - 11/40

> Has anyone looked at the possibility of retrofitting older pdp11's with modern
> switching power supplies to ease the electricity demands...?  
> (donning asbestos suit in anticipation of cries of "heretic" and "Frankenstein"...)

:-)

Well, as far as I know, all of the already have switching supplies...
Possibly not the 11/15 and 11/20, but if anyone has one of those, and
makes such a modification, I *will* brand him as an heretic. :-)

	Johnny

Johnny Billquist                  || "I'm on a bus
                                  ||  on a psychedelic trip
email: bqt at update.uu.se           ||  Reading murder books
pdp is alive!                     ||  tryin' to stay hip" - B. Idol


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id HAA05987
	for pups-liszt; Thu, 16 Apr 1998 07:36:11 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from serv1.is4.u-net.net (hme0.serv1.is4.u-net.net [195.102.240.153])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id HAA05981
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 07:35:40 +1000 (EST)
Received: from indy.dunnington.york.ac.uk [195.102.197.126] 
	by serv1.is4.u-net.net with smtp (Exim 1.73 #1)
	id 0yPZWI-0006CM-00; Wed, 15 Apr 1998 21:15:03 +0000
Received: by indy.dunnington.york.ac.uk (940816.SGI.8.6.9/980207.PNT)
	for pups at minnie.cs.adfa.oz.au id VAA16397; Wed, 15 Apr 1998 21:08:01 GMT
Date: Wed, 15 Apr 1998 21:08:01 GMT
From: pete@dunnington.u-net.com (Pete Turnbull)
X-Beware: experimental sendmail.cf 940816.SGI.8.6.9/980207.PNT
Message-Id: <9804152208.ZM16395 at indy.dunnington.york.ac.uk>
In-Reply-To: allisonp at world.std.com (Allison J Parent)
        "Re: PDP-11 Addressing Modes" (Apr 14, 23:53)
References: <199804150353.AA11012 at world.std.com>
Reply-To: pete at dunnington.u-net.com
X-Mailer: Z-Mail (3.2.2 10apr95 MediaMail)
To: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Addressing Modes
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Apr 14, 23:53, Allison J Parent wrote:
> <What do people here on the list think of the flexibility and
> <generality of the PDP-11's addressing modes?  Is this a well thought
> <out architecture in your view?  How are the PDP-11's addressing modes
> <better or worse than those of other processors, past and present?
>
> Personally I consider it a high point in 16 bit computing and one that
> is a standard of comparison.  VAX carried this to the 32bit realm.  I
> know of few 16 bit microprocessors that are as capable as the PDP-11
> and as fast (the ti9900 was good but slow, Z8000 was close).

Don't forget the 68000.  Motorola deliberately adopted a lot of similar design
features for the 68K; there's a very interesting design paper still available
called "Design Philosophy Behind Motorola's 68000", publication no.AR208.  The
same sort of instruction/address-mode orthogonality as found in the PDP11, is
one of the big features.

> Terrible cpu, we should junk them all... ;-)   ...so I can collect them.

All right, providing I can have the ones on this side of the Atlantic...

-- 

Pete						Peter Turnbull
						Dept. of Computer Science
						University of York

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id HAA05994
	for pups-liszt; Thu, 16 Apr 1998 07:36:39 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from serv1.is4.u-net.net (hme0.serv1.is4.u-net.net [195.102.240.153])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id HAA05989
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 07:36:25 +1000 (EST)
Received: from indy.dunnington.york.ac.uk [195.102.197.1] 
	by serv1.is4.u-net.net with smtp (Exim 1.73 #1)
	id 0yPZqJ-0006St-00; Wed, 15 Apr 1998 21:35:48 +0000
Received: by indy.dunnington.york.ac.uk (940816.SGI.8.6.9/980207.PNT)
	for pups at minnie.cs.adfa.oz.au id VAA16486; Wed, 15 Apr 1998 21:30:12 GMT
Date: Wed, 15 Apr 1998 21:30:12 GMT
From: pete@dunnington.u-net.com (Pete Turnbull)
X-Beware: experimental sendmail.cf 940816.SGI.8.6.9/980207.PNT
Message-Id: <9804152230.ZM16484 at indy.dunnington.york.ac.uk>
Reply-To: pete at dunnington.u-net.com
X-Mailer: Z-Mail (3.2.2 10apr95 MediaMail)
To: pups at minnie.cs.adfa.oz.au (PDP Unix Preservation)
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere) 
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Apr 15, 22:41, Johnny Billquist wrote:
> On Wed, 15 Apr 1998, Milo Velimirovic wrote:
>
> > QBUS 11/2 11/03 11/23 11/53 11/73 11/83
> > Unibus 11/05 11/10 11/15 11/20 11/24 11/3411/35 11/40 11/44 11/45 11/55
           11/60 11/70 11/84...

> Two additions to make the list officially complete:
>
> QBUS: 11/93
> Unibus: 11/94

And one more to make the list officially really complete:

Unibus:  11/04
(which, despite the numer, is more like an 11/34 than anything else).

BTW, the 11/2 is a board, not a machine.  Machines with 11/2s were sold as
11/03s.  And of course there's the Falcon (etc) range of boards, which used the
same microprocessors and bus interface as QBus machines, but had memory and I/O
integrated onto one board.  They're not really PDP-11s, though.

-- 

Pete						Peter Turnbull
						Dept. of Computer Science
						University of York

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id HAA06065
	for pups-liszt; Thu, 16 Apr 1998 07:57:26 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from Zeke.Update.UU.SE (2026 at Zeke.Update.UU.SE [130.238.11.14])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id HAA06060
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 07:56:52 +1000 (EST)
Received: from localhost (bqt at localhost)
	by Zeke.Update.UU.SE (8.8.8/8.8.8) with SMTP id XAA12901;
	Wed, 15 Apr 1998 23:56:16 +0200
Date: Wed, 15 Apr 1998 23:56:14 +0200 (MET DST)
From: Johnny Billquist <bqt@Update.UU.SE>
To: Pete Turnbull <pete at dunnington.u-net.com>
cc: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Addressing Modes
In-Reply-To: <9804152208.ZM16395 at indy.dunnington.york.ac.uk>
Message-ID: <Pine.VUL.3.93.980415234941.9250J-100000 at Zeke.Update.UU.SE>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Wed, 15 Apr 1998, Pete Turnbull wrote:

> On Apr 14, 23:53, Allison J Parent wrote:
> > <What do people here on the list think of the flexibility and
> > <generality of the PDP-11's addressing modes?  Is this a well thought
> > <out architecture in your view?  How are the PDP-11's addressing modes
> > <better or worse than those of other processors, past and present?
> >
> > Personally I consider it a high point in 16 bit computing and one that
> > is a standard of comparison.  VAX carried this to the 32bit realm.  I
> > know of few 16 bit microprocessors that are as capable as the PDP-11
> > and as fast (the ti9900 was good but slow, Z8000 was close).
> 
> Don't forget the 68000.  Motorola deliberately adopted a lot of similar design
> features for the 68K; there's a very interesting design paper still available
> called "Design Philosophy Behind Motorola's 68000", publication no.AR208.  The
> same sort of instruction/address-mode orthogonality as found in the PDP11, is
> one of the big features.

You got to be kidding?!?

<FLAME ON>
The 68K is a miserable beast at the best of times.
Separated address and data registers, PC is a special register, some
addressing modes are not allowed in some instructions, some manipulations
can only be done on data register, not address registers, immediate mode
is just an assembler fake, it's actually another instruction, the
semantics of some instructions differ depending on what type of arguments
you use, writing PIC can be a real pain unless you have the 68K20. The
list is long and sad.

The 68K is what happens if you take a good design (PDP-11) and mungle up
every part of the design. It's like if they never really understood why
the PDP-11 was done they way it was, and copied the parts they though
nifty and continued with adding their own strange ideas on top of it.
<FLAME OFF>

Having said all this, it's still a nice thing compared to Intel stuff, I
guess. :-) (But I've only programmed the Z80...)

	Johnny

Johnny Billquist                  || "I'm on a bus
                                  ||  on a psychedelic trip
email: bqt at update.uu.se           ||  Reading murder books
pdp is alive!                     ||  tryin' to stay hip" - B. Idol


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id IAA06096
	for pups-liszt; Thu, 16 Apr 1998 08:01:13 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from psychvax.psych.usyd.edu.au (psychvax.psych.usyd.edu.au [129.78.83.1])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id IAA06090
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 08:01:08 +1000 (EST)
Received: (from johnh at localhost)
	by psychvax.psych.usyd.edu.au (8.8.8/8.8.8) id IAA06424
	for pups at minnie.cs.adfa.oz.au; Thu, 16 Apr 1998 08:00:52 +1000
Date: Thu, 16 Apr 1998 08:00:52 +1000
From: John Holden <johnh@psychvax.psych.usyd.edu.au>
Message-Id: <199804152200.IAA06424 at psychvax.psych.usyd.edu.au>
To: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk


> Well, as far as I know, all of the already have switching supplies...
> Possibly not the 11/15 and 11/20, but if anyone has one of those, and
> makes such a modification, I *will* brand him as an heretic. :-)

	The 11/20 used a switch mode power supply (H720) (I still have a
functional machine!). You would have to go back to something like a PDP8/e
(got one of these two!) for a huge linear power supply. It has a huge SCR for
the overvoltage crowbar in order to dump all the energy in the filter capacitors

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id IAA06106
	for pups-liszt; Thu, 16 Apr 1998 08:01:19 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from Zeke.Update.UU.SE (2026 at Zeke.Update.UU.SE [130.238.11.14])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id IAA06088
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 08:00:32 +1000 (EST)
Received: from localhost (bqt at localhost)
	by Zeke.Update.UU.SE (8.8.8/8.8.8) with SMTP id AAA12933;
	Thu, 16 Apr 1998 00:00:22 +0200
Date: Thu, 16 Apr 1998 00:00:20 +0200 (MET DST)
From: Johnny Billquist <bqt@Update.UU.SE>
To: Pete Turnbull <pete at dunnington.u-net.com>
cc: PDP Unix Preservation <pups at minnie.cs.adfa.oz.au>
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere) 
In-Reply-To: <9804152230.ZM16484 at indy.dunnington.york.ac.uk>
Message-ID: <Pine.VUL.3.93.980415235648.9250K-100000 at Zeke.Update.UU.SE>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Wed, 15 Apr 1998, Pete Turnbull wrote:

> On Apr 15, 22:41, Johnny Billquist wrote:
> > On Wed, 15 Apr 1998, Milo Velimirovic wrote:
> >
> > > QBUS 11/2 11/03 11/23 11/53 11/73 11/83
> > > Unibus 11/05 11/10 11/15 11/20 11/24 11/3411/35 11/40 11/44 11/45 11/55
>            11/60 11/70 11/84...
> 
> > Two additions to make the list officially complete:
> >
> > QBUS: 11/93
> > Unibus: 11/94
> 
> And one more to make the list officially really complete:
> 
> Unibus:  11/04
> (which, despite the numer, is more like an 11/34 than anything else).

Sigh. Why can't I get the last word. :-)
Is there anyone who can figure out any more models?

> BTW, the 11/2 is a board, not a machine.  Machines with 11/2s were sold as
> 11/03s.  And of course there's the Falcon (etc) range of boards, which used the
> same microprocessors and bus interface as QBus machines, but had memory and I/O
> integrated onto one board.  They're not really PDP-11s, though.

Eh? I'd definitely say that the Falcon was a PDP-11, it does sport a F11.
Actually, it was called the 11/21, or something like that, wasn't it?
But it was a board, and not a machine...
What about the VT103?

	Johnny

Johnny Billquist                  || "I'm on a bus
                                  ||  on a psychedelic trip
email: bqt at update.uu.se           ||  Reading murder books
pdp is alive!                     ||  tryin' to stay hip" - B. Idol


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id JAA06285
	for pups-liszt; Thu, 16 Apr 1998 09:08:21 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from serv1.is4.u-net.net (hme0.serv1.is4.u-net.net [195.102.240.153])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id JAA06280
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 09:08:09 +1000 (EST)
Received: from indy.dunnington.york.ac.uk [195.102.197.234] 
	by serv1.is4.u-net.net with smtp (Exim 1.73 #1)
	id 0yPbGw-0000Zp-00; Wed, 15 Apr 1998 23:07:18 +0000
Received: by indy.dunnington.york.ac.uk (940816.SGI.8.6.9/980207.PNT)
	for pups at minnie.cs.adfa.oz.au id XAA16650; Wed, 15 Apr 1998 23:08:26 GMT
Date: Wed, 15 Apr 1998 23:08:26 GMT
From: pete@dunnington.u-net.com (Pete Turnbull)
X-Beware: experimental sendmail.cf 940816.SGI.8.6.9/980207.PNT
Message-Id: <9804160008.ZM16648 at indy.dunnington.york.ac.uk>
In-Reply-To: Johnny Billquist <bqt at Update.UU.SE>
        "Re: PDP-11 Newbie Alert --- (gotta start somewhere)" (Apr 16,  0:00)
References: <Pine.VUL.3.93.980415235648.9250K-100000 at Zeke.Update.UU.SE>
Reply-To: pete at dunnington.u-net.com
X-Mailer: Z-Mail (3.2.2 10apr95 MediaMail)
To: PDP Unix Preservation <pups at minnie.cs.adfa.oz.au>
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

On Apr 16,  0:00, Johnny Billquist wrote:

> Sigh. Why can't I get the last word. :-)

If I'd been quicker off the mark with my 11/04, you would have :-)

> Eh? I'd definitely say that the Falcon was a PDP-11, it does sport a F11.
> Actually, it was called the 11/21, or something like that, wasn't it?
> But it was a board, and not a machine...

That was the one called an SBC-11/21 Single Board Computer, aka KXT11.  Wasn't
it a T11 processor?  It had ODT in ROM, not in microcode.  There's one with a
J11, too.  Was that a Falcon+ ?  I think there were three versions altogether.
 Anyway, I just meant that the Falcons weren't sold in quite the same way; the
ones I've seen have been used more like today's embedded processors, set up to
do a very specific task, rather than to run a general-purpose O/S.  I expect it
could run RT-11, though.  The User's Guide I have says the ROM includes
DD/DX/DY bootstraps, among others.  I've certainly seen at least one in a
BA11-N box with other DEC cards, though that particular one didn't have any
disks.


-- 

Pete						Peter Turnbull
						Dept. of Computer Science
						University of York

Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id MAA06809
	for pups-liszt; Thu, 16 Apr 1998 12:06:55 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from europe.std.com (europe.std.com [199.172.62.20])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id MAA06804
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 12:06:45 +1000 (EST)
Received: from world.std.com by europe.std.com (8.7.6/BZS-8-1.0)
	id WAA25551; Wed, 15 Apr 1998 22:06:40 -0400 (EDT)
Received: by world.std.com (TheWorld/Spike-2.0)
	id AA10172; Wed, 15 Apr 1998 22:06:40 -0400
Date: Wed, 15 Apr 1998 22:06:40 -0400
From: allisonp@world.std.com (Allison J Parent)
Message-Id: <199804160206.AA10172 at world.std.com>
To: pups at minnie.cs.adfa.oz.au
Subject: Re: PDP-11 Newbie Alert --- (gotta start somewhere)
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk


<That was the one called an SBC-11/21 Single Board Computer, aka KXT11.  W
<it a T11 processor?  It had ODT in ROM, not in microcode.  There's one wi

KXT-11 was the t-11 cpu, duart (2 dl lines), PIOs ram and prom on one dual 
width card.  It was designed as a bus master.

KXT-11+ was also T-11, quad width with peripherals on board but could work 
as both bus master and bus slave.

KXJ-11 was the later versionusing the J-11 cpu.

< Anyway, I just meant that the Falcons weren't sold in quite the same way
<ones I've seen have been used more like today's embedded processors, set 
<do a very specific task, rather than to run a general-purpose O/S.  I exp
<could run RT-11, though.  The User's Guide I have says the ROM includes
<DD/DX/DY bootstraps, among others.  I've certainly seen at least one in 
<BA11-N box with other DEC cards, though that particular one didn't have a
<disks.

The were intended to replace lsi-11/03 and /2 cpus for embedded operation.
They with proper memory would run Rt-11 and could be used for a self 
development system.  At one time I had one in a BA11-va (showbox) with
a RXV21 and MXV11 and it was a very good 32k RT-11 system.

I also reassembled a MDS-11A a Vt100 with a PDP-11 qbus inside as a 
desktop development system for PDP-11.

Allison


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id SAA08043
	for pups-liszt; Thu, 16 Apr 1998 18:59:16 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from spektr.ludvika.se (root at spektr.ludvika.se [194.18.168.68])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id SAA08037
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 18:59:08 +1000 (EST)
Received: from localhost (localhost [[UNIX: localhost]])
	by spektr.ludvika.se (8.8.8/8.8.8) with SMTP id KAA09430
	for <pups at minnie.cs.adfa.oz.au>; Thu, 16 Apr 1998 10:58:51 +0200 (CEST)
Date: Thu, 16 Apr 1998 10:58:50 +0200 (CEST)
From: Jorgen Pehrson <jp@spektr.ludvika.se>
To: pups at minnie.cs.adfa.oz.au
Subject: Strategy for inst. UNIX on my PDP11?
Message-ID: <Pine.NEB.3.96.980416103935.9120A-100000 at spektr.ludvika.se>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

Hi,
What's the best way of installing UNIX on my PDP11/83?
What I have:
PDP11/83, RD52, a QIC tape streamer doing some sort of TS11 emulation.

A MicroVAX II with a TK50 streamer and NetBSD installed. DEQNA ethernet.
And I have a spare DEQNA laying about.

What I was thinking of doing is writing the distribution to TK50 on the
MVII, move the TK50 streamer to the PDP and go from there. 

Is the RD52 big enough to contain a complete system?

What UNIX versions will work on my PDP? I was thinking of installing
2.11BSD.


Thanks for any input!

--
Jorgen Pehrson                   HP 9000/380 (NetBSD/hp300 1.3)
jp at spektr.ludvika.se             DECstation 5000/200 (NetBSD/pmax 1.3)
PDP11/83 - Intergraph InterAct - VAXstation 2000 (VMS 5.5-2)


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id BAA09346
	for pups-liszt; Fri, 17 Apr 1998 01:56:26 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from moe.2bsd.com (0 at MOE.2BSD.COM [206.139.202.200])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with ESMTP id BAA09341
	for <pups at minnie.cs.adfa.oz.au>; Fri, 17 Apr 1998 01:56:17 +1000 (EST)
Received: (from sms at localhost)
	by moe.2bsd.com (8.8.5/8.8.5) id IAA12057
	for pups at minnie.cs.adfa.oz.au; Thu, 16 Apr 1998 08:47:14 -0700 (PDT)
Date: Thu, 16 Apr 1998 08:47:14 -0700 (PDT)
From: "Steven M. Schultz" <sms@moe.2bsd.com>
Message-Id: <199804161547.IAA12057 at moe.2bsd.com>
To: pups at minnie.cs.adfa.oz.au
Subject: Re: Strategy for inst. UNIX on my PDP11?
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

Greetings -

> From: Jorgen Pehrson <jp at spektr.ludvika.se>
> 
> What's the best way of installing UNIX on my PDP11/83?
> What I have:
> PDP11/83, RD52, a QIC tape streamer doing some sort of TS11 emulation.

	That tape device sounds like it is a TK25.  It uses the DC600A
	(60mb) cartridges.  

> A MicroVAX II with a TK50 streamer and NetBSD installed. DEQNA ethernet.
> And I have a spare DEQNA laying about.

	The DEQNA is supported by 2.11BSD so it would be a good idea to add
	that board to the 11/83.

> What I was thinking of doing is writing the distribution to TK50 on the
> MVII, move the TK50 streamer to the PDP and go from there. 

	Ok - that will work fine.  Another possiibility would be to move the
	TK25 (QIC) drive to the uVax-II and write the tapes to DC600A tapes. 
	Then move the TK25 back to the 11/25 and boot

> Is the RD52 big enough to contain a complete system?

	Alas no.  The RD52 is only ~30mb (the RD53 is about 70mb and the RD54
	is ~159mb).  A complete 2.11 system needs about 100mb (~8mb for a 
	root filesystem, 4mb for a swap partition and ~80mb for sources plus
	binaries).  A ZIP cartridge will (just) hold a complete 2.11 system
	(with about 8mb left over).  To hold a complete 2.11 system you'll 
	need either two RD53 drives or a single RD54.

	A minimal system (root filesystem plus selected binaries from /usr) 
	could be installed on a RD52 but it would definitely not be a complete
	system capable of recompiling itself.

> What UNIX versions will work on my PDP? I was thinking of installing
> 2.11BSD.

	2.11 is an excellent match for the 11/83.  Earlier versions (2.9 for
	example) will have a difficult time because MSCP support did not 
	arrive until 2.10BSD.  TMSCP support was not present until 2.10.1BSD

	Steven Schultz
	sms at moe.2bsd.com


Received: (from major at localhost)
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) id HAA10305
	for pups-liszt; Fri, 17 Apr 1998 07:14:15 +1000 (EST)
X-Authentication-Warning: minnie.cs.adfa.oz.au: major set sender to owner-pups at minnie.cs.adfa.oz.au using -f
Received: from post.mail.demon.net (post-30.mail.demon.net [194.217.242.40])
	by minnie.cs.adfa.oz.au (8.8.5/8.8.5) with SMTP id HAA10300
	for <pups at minnie.cs.adfa.oz.au>; Fri, 17 Apr 1998 07:14:08 +1000 (EST)
Received: from (falstaf.demon.co.uk) [158.152.152.109] 
	by post.mail.demon.net with smtp (Exim 1.82 #2)
	id 0yPvyp-0000Ph-00; Thu, 16 Apr 1998 22:14:00 +0100
Message-ID: <5kppZIANRnN1EwQW at falstaf.demon.co.uk>
Date: Thu, 16 Apr 1998 22:12:45 +0100
To: Jorgen Pehrson <jp at spektr.ludvika.se>
Cc: pups at minnie.cs.adfa.oz.au
From: Robin Birch <robin@falstaf.demon.co.uk>
Subject: Re: Strategy for inst. UNIX on my PDP11?
In-Reply-To: <Pine.NEB.3.96.980416103935.9120A-100000 at spektr.ludvika.se>
MIME-Version: 1.0
X-Mailer: Turnpike (32) Version 3.05 <YSkKJATYm0AxAbv6xUlJqScVOx>
Sender: owner-pups at minnie.cs.adfa.oz.au
Precedence: bulk

In message <Pine.NEB.3.96.980416103935.9120A-100000 at spektr.ludvika.se>,
Jorgen Pehrson <jp at spektr.ludvika.se> writes
>Hi,
>What's the best way of installing UNIX on my PDP11/83?
>What I have:
>PDP11/83, RD52, a QIC tape streamer doing some sort of TS11 emulation.
>
>A MicroVAX II with a TK50 streamer and NetBSD installed. DEQNA ethernet.
>And I have a spare DEQNA laying about.
>
>What I was thinking of doing is writing the distribution to TK50 on the
>MVII, move the TK50 streamer to the PDP and go from there. 
>
Yes, this will be the simplest way
>Is the RD52 big enough to contain a complete system?
>
no, an RD54 is probably the best to aim for if you can get your hands on
one.
>What UNIX versions will work on my PDP? I was thinking of installing
>2.11BSD.

That will do fine
>
>
>Thanks for any input!
>
>--
>Jorgen Pehrson                   HP 9000/380 (NetBSD/hp300 1.3)
>jp at spektr.ludvika.se             DECstation 5000/200 (NetBSD/pmax 1.3)
>PDP11/83 - Intergraph InterAct - VAXstation 2000 (VMS 5.5-2)
>
Cheers

Robin
Robin Birch     robin at falstaf.demon.co.uk

M1ASU/2E0ARJ    Old computers and radios always welcome


