X-Spam-Checker-Version: SpamAssassin 3.4.4 (2020-01-24) on inbox.vuxu.org
X-Spam-Level: 
X-Spam-Status: No, score=-1.1 required=5.0 tests=DKIM_SIGNED,DKIM_VALID,
	DKIM_VALID_AU,HTML_MESSAGE,MAILING_LIST_MULTI,RCVD_IN_DNSWL_NONE
	autolearn=ham autolearn_force=no version=3.4.4
Received: (qmail 13150 invoked from network); 28 Jul 2020 01:16:40 -0000
Received: from minnie.tuhs.org (45.79.103.53)
  by inbox.vuxu.org with ESMTPUTF8; 28 Jul 2020 01:16:40 -0000
Received: by minnie.tuhs.org (Postfix, from userid 112)
	id 4DCCD9CAA3; Tue, 28 Jul 2020 11:16:39 +1000 (AEST)
Received: from minnie.tuhs.org (localhost [127.0.0.1])
	by minnie.tuhs.org (Postfix) with ESMTP id 400B49C8E4;
	Tue, 28 Jul 2020 11:15:07 +1000 (AEST)
Authentication-Results: minnie.tuhs.org;
	dkim=pass (1024-bit key; unprotected) header.d=ccc.com header.i=@ccc.com header.b="nEkck7bL";
	dkim-atps=neutral
Received: by minnie.tuhs.org (Postfix, from userid 112)
 id BD0569C8E4; Tue, 28 Jul 2020 11:15:04 +1000 (AEST)
Received: from mail-qt1-f182.google.com (mail-qt1-f182.google.com
 [209.85.160.182])
 by minnie.tuhs.org (Postfix) with ESMTPS id 289149C8E2
 for <tuhs@minnie.tuhs.org>; Tue, 28 Jul 2020 11:15:04 +1000 (AEST)
Received: by mail-qt1-f182.google.com with SMTP id c12so4754529qtn.9
 for <tuhs@minnie.tuhs.org>; Mon, 27 Jul 2020 18:15:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ccc.com; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc; bh=CKEOH7ybCxW/Bq6+UFrNe7WcKh/b1jlRjHofCbNVhdE=;
 b=nEkck7bLIsPYL2QsnB7ooKkUX4PP7XrdadXFbdBz9yckx+ZuXzKqdZ4WIY0T1lL8oM
 wr4lPQPdisFu/WImAHlS09GEyZQoHL3oCzVSBepIYV5lB9D15wpAWCTb+/JeIjx3vkpu
 C34TBhVoY1UnH77sXazAT38ebLky0F3pisFQg=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=CKEOH7ybCxW/Bq6+UFrNe7WcKh/b1jlRjHofCbNVhdE=;
 b=HP1S/Cqr6h4ZxRiDXdz3qP8NJZJlEgix015h3A49R9W5EB84/AAwEVtyjjSXVwIL3C
 ATOUZevy/fq9hFyHvKhvCToXjbtDzLEg9h7ru7UETnX/cuCVUQhN7LPnJJVEPF8tF4Og
 Qvc+wEKPaw2IEjdtg418CFXXWPkNAtFs5XZdWB2GrhrFIboDxHOdJker6vuTCZjkbkLT
 +LWmtQiQU0VMi3PWfx0gAf8yhS05zIKC0Snj4LhaHVB3u/0CJ8HslkZkdy9s1JlbyG7Q
 0k24YVOa+HzQ+GUerGy6uglq3eo68JumEDrUO4KtyxM5F9FbSaD00IrZYCQEj5iuN3Ql
 zyJw==
X-Gm-Message-State: AOAM530UmGuvA12t4VM099Q0hp6VnZ3t4Gd2v2QcM5yKTZMzKZ0xuc59
 Eqcf0RaUtva771nprP7eRk8pZ8OJvPZ+6BikKB3KOA==
X-Google-Smtp-Source: ABdhPJwu9ca0yJc/+cCvNUPkT3/rZUzZrG8jWGlyESCaXgtDa+n3oYxMd5KwoJQAddSRqNpAopw0bIVX7If8o5nXB3I=
X-Received: by 2002:aed:27d5:: with SMTP id m21mr25555702qtg.4.1595898903046; 
 Mon, 27 Jul 2020 18:15:03 -0700 (PDT)
MIME-Version: 1.0
References: <df55323f-a661-a4d6-3290-3224d064aaef@gmail.com>
In-Reply-To: <df55323f-a661-a4d6-3290-3224d064aaef@gmail.com>
From: Clem Cole <clemc@ccc.com>
Date: Mon, 27 Jul 2020 21:14:37 -0400
Message-ID: <CAC20D2PcpmUN87dM_Ncu_5pV95j23uHZRdvb=HwiOrY8K55pbQ@mail.gmail.com>
To: Will Senn <will.senn@gmail.com>
Content-Type: multipart/alternative; boundary="00000000000036c45705ab762bba"
Subject: Re: [TUHS] v7 tar and 2bsd.tar
X-BeenThere: tuhs@minnie.tuhs.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: The Unix Heritage Society mailing list <tuhs.minnie.tuhs.org>
List-Unsubscribe: <https://minnie.tuhs.org/cgi-bin/mailman/options/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=unsubscribe>
List-Archive: <http://minnie.tuhs.org/pipermail/tuhs/>
List-Post: <mailto:tuhs@minnie.tuhs.org>
List-Help: <mailto:tuhs-request@minnie.tuhs.org?subject=help>
List-Subscribe: <https://minnie.tuhs.org/cgi-bin/mailman/listinfo/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=subscribe>
Cc: TUHS main list <tuhs@minnie.tuhs.org>
Errors-To: tuhs-bounces@minnie.tuhs.org
Sender: "TUHS" <tuhs-bounces@minnie.tuhs.org>

--00000000000036c45705ab762bba
Content-Type: text/plain; charset="UTF-8"

Will, on your local system, take the tarball and pull off Joy's tar binary
then move it over using dd and the trick with the disks. Joy's label told
you to use his program.  So try it.   By

on you mac:
tar xvf 2bsd.tar tar src/tar                           <-- the later one
because he gave you two
ls -l tar                                                        <-- you
may want a byte and block count
dd if=tar of=ucbtar bs=1b conv=sync         <-- pad to disk block size

then on simh:  att ucbtar to the rk05
and attach your tape 2bsd.tar like you did before

on v7:  dd if=/dev/rrkN of=ucbtar bs=1          <-- this should pull the
binary with the padded last block in

if you want to strip off the extra bytes, feel free but I don't think it's
going to matter.

chmod 755 ucbtar
./ucbtar vt0                         <--- see it works


If that fails, try the other tar he left you on the tape.

My guess is that the tarball Warren has was written with a more modern tar
and the old tar can not handle the tar threaded tape directory.  This is
possible as a lot was added to later versions tars and it's clear this is
not exactly the tape image that Joy wrote/distributed.  So, Ken's original
version might just be unable to handle it.  Hopefully, it is the contents,
but it was not written with Joy's 'tarit' script and maybe not on a V7/2BSD
system.

Clem

On Mon, Jul 27, 2020 at 8:41 PM Will Senn <will.senn@gmail.com> wrote:

> I'm trying to get 2bsd.tar extracted into v7. Does anyone have any
> recollection how to do this. Here's what I'm seeing:
>
> in simh:
> simh> att  tm0 -V -F TAR 2bsd.tar
> Tape Image '2bsd.tar' scanned as TAR format.
> contains 4935680 bytes of tape data (482 records, 1 tapemarks)
> c
>
> and in v7:
> tar xv0
> tar: bin/ - cannot create
> directory checksum error
> # ls
> bin
>
>
> What gives - it says it can't create the dir, but it does, it's there...
>
> Thanks,
>
> Will
>
> --
> GPG Fingerprint: 68F4 B3BD 1730 555A 4462  7D45 3EAA 5B6D A982 BAAF
>
>

--00000000000036c45705ab762bba
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_default" style=3D"font-family:arial,he=
lvetica,sans-serif">Will, on your local system, take the tarball and pull o=
ff Joy&#39;s tar binary then move it over using dd and the trick with the d=
isks. Joy&#39;s label told you to use his program.=C2=A0 So try it.=C2=A0 =
=C2=A0By</div><div class=3D"gmail_default" style=3D"font-family:arial,helve=
tica,sans-serif"><br></div><div class=3D"gmail_default" style=3D"font-famil=
y:arial,helvetica,sans-serif">on you mac:</div><div class=3D"gmail_default"=
 style=3D"font-family:arial,helvetica,sans-serif">tar xvf 2bsd.tar tar src/=
tar=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0&lt;-- the later one because he gave you two</di=
v><div class=3D"gmail_default" style=3D"font-family:arial,helvetica,sans-se=
rif">ls -l tar=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &lt;-- you m=
ay want a byte and block count</div><div class=3D"gmail_default" style=3D"f=
ont-family:arial,helvetica,sans-serif">dd if=3Dtar of=3Ducbtar bs=3D1b conv=
=3Dsync=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0&lt;-- pad to disk block size</div=
><div class=3D"gmail_default" style=3D"font-family:arial,helvetica,sans-ser=
if"><br></div><div class=3D"gmail_default" style=3D"font-family:arial,helve=
tica,sans-serif">then on simh:=C2=A0 att ucbtar to the rk05</div><div class=
=3D"gmail_default" style=3D"font-family:arial,helvetica,sans-serif">and att=
ach your tape 2bsd.tar like you did before</div><div class=3D"gmail_default=
" style=3D"font-family:arial,helvetica,sans-serif"><br></div><div class=3D"=
gmail_default" style=3D"font-family:arial,helvetica,sans-serif">on v7:=C2=
=A0 dd if=3D/dev/rrkN of=3Ducbtar bs=3D1=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
&lt;-- this should pull the binary=C2=A0with the padded last block in</div>=
<div class=3D"gmail_default" style=3D"font-family:arial,helvetica,sans-seri=
f"><br></div><div class=3D"gmail_default" style=3D"font-family:arial,helvet=
ica,sans-serif">if you want to strip off the extra bytes, feel free but I d=
on&#39;t think it&#39;s going to matter.</div><div class=3D"gmail_default" =
style=3D"font-family:arial,helvetica,sans-serif"><br></div><div class=3D"gm=
ail_default" style=3D"font-family:arial,helvetica,sans-serif">chmod 755 ucb=
tar</div><div class=3D"gmail_default" style=3D"font-family:arial,helvetica,=
sans-serif">./ucbtar=C2=A0vt0=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0&lt;--- see it works</div><div=
 class=3D"gmail_default" style=3D"font-family:arial,helvetica,sans-serif"><=
br></div><div class=3D"gmail_default" style=3D"font-family:arial,helvetica,=
sans-serif"><br></div><div class=3D"gmail_default" style=3D"font-family:ari=
al,helvetica,sans-serif">If that fails, try the other tar he left you on th=
e tape.</div><div class=3D"gmail_default" style=3D"font-family:arial,helvet=
ica,sans-serif"><br></div><div class=3D"gmail_default" style=3D"font-family=
:arial,helvetica,sans-serif">My guess is that the=C2=A0tarball Warren has w=
as written with a more modern tar and the old tar can not handle the tar th=
readed tape directory.=C2=A0 This=C2=A0is possible as a lot was added to la=
ter versions tars and it&#39;s clear this is not exactly the tape image tha=
t Joy wrote/distributed.=C2=A0 So, Ken&#39;s original version might just be=
 unable to handle it.=C2=A0 Hopefully, it is the contents, but it was not w=
ritten with Joy&#39;s &#39;tarit&#39; script and maybe not on a V7/2BSD sys=
tem.</div><div class=3D"gmail_default" style=3D"font-family:arial,helvetica=
,sans-serif"><br></div><div class=3D"gmail_default" style=3D"font-family:ar=
ial,helvetica,sans-serif">Clem</div></div><br><div class=3D"gmail_quote"><d=
iv dir=3D"ltr" class=3D"gmail_attr">On Mon, Jul 27, 2020 at 8:41 PM Will Se=
nn &lt;<a href=3D"mailto:will.senn@gmail.com" target=3D"_blank">will.senn@g=
mail.com</a>&gt; wrote:<br></div><blockquote class=3D"gmail_quote" style=3D=
"margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-le=
ft:1ex">
 =20

   =20
 =20
  <div>
    <font face=3D"Helvetica, Arial, sans-serif">I&#39;m trying to get 2bsd.=
tar
      extracted into v7. Does anyone have any recollection how to do
      this. Here&#39;s what I&#39;m seeing:<br>
      <br>
      in simh:</font><br>
    <font face=3D"Helvetica, Arial, sans-serif">simh&gt; att=C2=A0 tm0 -V -=
F
      TAR 2bsd.tar
      <br>
      Tape Image &#39;2bsd.tar&#39; scanned as TAR format.
      <br>
      contains 4935680 bytes of tape data (482 records, 1 tapemarks)<br>
      c<br>
      <br>
      and in v7:<br>
      tar xv0<br>
      tar: bin/ - cannot create<br>
      directory checksum error<br>
      # ls<br>
      bin<br>
      <br>
      <br>
      What gives - it says it can&#39;t create the dir, but it does, it&#39=
;s
      there...<br>
      <br>
      Thanks,<br>
      <br>
      Will<br>
    </font>
    <pre cols=3D"72">--=20
GPG Fingerprint: 68F4 B3BD 1730 555A 4462  7D45 3EAA 5B6D A982 BAAF</pre>
  </div>

</blockquote></div>

--00000000000036c45705ab762bba--
