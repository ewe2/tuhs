From: spyro@f2s.com (Ian Molton)
Date: Tue, 1 Oct 2002 10:16:59 +0100
Subject: [TUHS] Re: Making boot disks
In-Reply-To: <10210010729.ZM21799@mindy.dunnington.u-net.com>
References: <200209302339.g8UNd4B13794@minnie.tuhs.org>
	<20020930214211.5d53a9a0.spyro@f2s.com>
	<200209302137.g8ULbZH12674@minnie.tuhs.org>
	<20020930235902.GP22839@wantadilla.lemis.com>
	<20021001013754.4d51c7ef.spyro@f2s.com>
	<10210010729.ZM21799@mindy.dunnington.u-net.com>
Message-ID: <20021001101659.0d0b1ae1.spyro@f2s.com>

On Tue, 1 Oct 2002 06:29:56 GMT
pete at dunnington.u-net.com (Pete Turnbull) wrote:

> > I dont actually know what the filesystem is, but my guess is UFS
> > based on the newfs command in the mkkernel script, and a rumour it
> > is BSD derived.
> 
> It is indeed a straight port of BSD 4.x, where x depends in whether is
> it's RISC iX 1 or 1.2 (R440 used 4.2, I think; R260 used 4.3).

was the only difference between 1 and 1.2 the kernel?

> > I have everything from a machines filesystem in a tarball.
> >
> > I simply have no bootdisk, and cant create one without a suitable
> > newfs
> >
> > > > any advice from the list would be appreciated :)
> 
> Take a look at James Carter's page at
> http://www.jfc.org.uk/documents/riscix_clone.html

wont I need a working installation first?

> > is it possible for someone else to make a filesystem image for me
> > that I could dd onto a floppy? I suspect that this system uses an
> > old variant of ufs.
> 
> It is a standard 4.3 filesystem (at least for the verison for an
> R260).  It even says so when it boots:

Thats good to know - linux can actually write to that (although attempts
so far have led to kernel panics!)

Do you know of generic source for mkfs ?
 
> One of us could copy some stuff for you.  I'm not sure you'd be able
> to get what you need onto a single floppy, though.  That's not how
> Acorn did it.

did you see the scripts I attached?

Apparently the create 3 floppies, which can be used to install a system.

> We'd certainly be willing to help, especially if you have any RISC iX
> stuff we're missing.

You're certainly welcome to any stuff I have.

Id be eternally grateful if you could run those 3 scripts on a riscix
machine though (even better if you could use a disc image - can risciX
do loopback mounted filesystems?)

once you have 3 floppies [which can be imaged], or 3 disc images, could
you email them to me?


