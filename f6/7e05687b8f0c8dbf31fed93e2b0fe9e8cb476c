From: sven_dehmlow@web.de (Sven Dehmlow)
Date: Wed, 30 Jan 2002 19:00:49 +0100
Subject: [TUHS] Re: Porting Unix v6 to i386
In-Reply-To: <20020130091842.A12653@apple.ukc.ac.uk>
References: <no.id> <20020129175758.Q20875@goldberry.poofy.goof.com> <20020130091842.A12653@apple.ukc.ac.uk>
Message-ID: <02013019004900.00631@linux>

On Wednesday 30 January 2002 10:18, P.A.Osborne wrote:
> On Tue, Jan 29, 2002 at 05:57:58PM -0800, Aaron J. Grier wrote:

> Well that is what I intended,  certainly as a starting reference
> for floppy, console drivers etc - IDE can wait till later. 
> Initially I would like to get v6 or 7 (probably 6 as the Lions
> commentary is available) booting a kernel.
>
> Anyhow I have started gathering the tools (Watcom C compiler now
> open source and free!  www.openwatcom.org),  nasm etc etc so I
> should now have enough bits and bobs to compile 16 bit code - as
> gcc doesnt.
>
> Of course if someone wants to rewrite the version of cc that comes
> with V6 so it generates x86 binaries rather than pdp binaries, that
> would be the utimate aim I guess.  That way you could run V6 on a
> PC and get it to compile its own kernel....

Getting the ported kernel compiled while running itself will not be a 
serious problem independent from the compiler as long as it's source 
code is available and it is written for the machine to compile on. 
Porting a compiler from one operating system to another is a fool 
compared with porting an operating system from one machine to 
another. Give me the port of Unix and I'll give you the ported x86 C 
compiler... ;-)

>
> Having had a rummage and a chat with acolleague here at
> UKC - it seems that V6 will be easier than V7,  partially because
> of the Lions commentary - but mainly because 286 protected mode
> gives a very similar handling on memory management as the PDP did.

Yes, and I think that v7 was a further development from v6. 
Developing something further is always more fun and by this more easy 
than developing something back.

Sven


