X-Spam-Checker-Version: SpamAssassin 3.4.4 (2020-01-24) on inbox.vuxu.org
X-Spam-Level: 
X-Spam-Status: No, score=-1.1 required=5.0 tests=DKIM_SIGNED,DKIM_VALID,
	DKIM_VALID_AU,MAILING_LIST_MULTI,RCVD_IN_DNSWL_NONE autolearn=ham
	autolearn_force=no version=3.4.4
Received: (qmail 7140 invoked from network); 1 Jun 2020 15:04:52 -0000
Received: from minnie.tuhs.org (45.79.103.53)
  by inbox.vuxu.org with ESMTPUTF8; 1 Jun 2020 15:04:52 -0000
Received: by minnie.tuhs.org (Postfix, from userid 112)
	id 173E493D46; Tue,  2 Jun 2020 01:04:52 +1000 (AEST)
Received: from minnie.tuhs.org (localhost [127.0.0.1])
	by minnie.tuhs.org (Postfix) with ESMTP id 0EC7C9C90D;
	Tue,  2 Jun 2020 01:04:32 +1000 (AEST)
Authentication-Results: minnie.tuhs.org;
	dkim=pass (1024-bit key; unprotected) header.d=planet.nl header.i=@planet.nl header.b="kEG4fnX8";
	dkim-atps=neutral
Received: by minnie.tuhs.org (Postfix, from userid 112)
 id 2A8A49C90D; Tue,  2 Jun 2020 01:04:30 +1000 (AEST)
Received: from cpsmtpb-ews08.kpnxchange.com (cpsmtpb-ews08.kpnxchange.com
 [213.75.39.13]) by minnie.tuhs.org (Postfix) with ESMTP id 54DC29C856
 for <tuhs@minnie.tuhs.org>; Tue,  2 Jun 2020 01:04:27 +1000 (AEST)
Received: from cpsps-ews12.kpnxchange.com ([10.94.84.179]) by
 cpsmtpb-ews08.kpnxchange.com with Microsoft SMTPSVC(8.5.9600.16384); 
 Mon, 1 Jun 2020 17:04:22 +0200
X-Brand: 7abm2Q==
X-KPN-SpamVerdict: e1=0;e2=0;e3=0;e4=(e1=10;e3=10;e2=11;e4=10);EVW:Whi
 te;BM:NotScanned;FinalVerdict:Clean
X-CMAE-Analysis: v=2.3 cv=HrPt53bS c=1 sm=1 tr=0 cx=a_idp_e
 a=WB5lYbMG1jvHJ1f8o08CVQ==:117 a=soxbC+bCkqwFbqeW/W/r+Q==:17
 a=x1i13A_MHe4A:10 a=IkcTkHD0fZMA:10 a=nTHF0DUjJn0A:10
 a=7RpiaepYAAAA:20 a=AoeSMSUmAAAA:8 a=NuRZc98xW2L7vlNh-PUA:9
 a=QEXdDO2ut3YA:10 a=IA4qIw_M-6cA:10 a=2UY7SMgi64q-0UtCmZ5F:22
X-CM-AcctID: kpn@feedback.cloudmark.com
Received: from smtp.kpnmail.nl ([195.121.84.14]) by cpsps-ews12.kpnxchange.com
 over TLS secured channel with Microsoft SMTPSVC(8.5.9600.16384); 
 Mon, 1 Jun 2020 17:04:23 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=planet.nl; s=planet01;
 h=to:date:message-id:subject:mime-version:content-type:from;
 bh=hOhi/YM4t6DIWPF4U30cDQjul5QCyg6i2LQEXCZxgmc=;
 b=kEG4fnX8dHln+VKgw+0iF36CU4e2mnB/UxLzfIswzKo9g2+Cwpsb76f6EmloVzQVTy1nkDxrh4p8H
 xkW6jhy0hzih70irkjzlvaiIYtwdJ0aR281GZE9uUJZGtthAAueMEnQv3qncLrEbRs+7P9NVTfnbZA
 RxOafWxQelA3Bknk=
X-KPN-VerifiedSender: Yes
X-CMASSUN: 33|g+8ulu7r+RiKWvYueNAcZklbzWzQvXRKHJqQdHzQBSiWmLSPWsi+7eoFc+th0UW
 2bumNpd1Z/vNUdot16NrYYA==
X-Originating-IP: 80.101.112.122
Received: from mba2.fritz.box (sqlite.xs4all.nl [80.101.112.122])
 by smtp.kpnmail.nl (Halon) with ESMTPSA
 id 2d362b2c-a419-11ea-bcf5-00505699d6e5;
 Mon, 01 Jun 2020 17:04:23 +0200 (CEST)
From: Paul Ruizendaal <pnr@planet.nl>
Content-Type: text/plain;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (Mac OS X Mail 12.4 \(3445.104.11\))
Message-Id: <94C31414-D9DF-41C5-B0D9-9FB92994B513@planet.nl>
Date: Mon, 1 Jun 2020 17:04:22 +0200
To: paul@rileyriot.com,
 TUHS main list <tuhs@minnie.tuhs.org>
X-Mailer: Apple Mail (2.3445.104.11)
X-OriginalArrivalTime: 01 Jun 2020 15:04:23.0075 (UTC)
 FILETIME=[EF1F2730:01D63825]
X-RcptDomain: minnie.tuhs.org
Subject: [TUHS] DEC RL01/RL02 RX01/RX02 Disk Image Creator
X-BeenThere: tuhs@minnie.tuhs.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: The Unix Heritage Society mailing list <tuhs.minnie.tuhs.org>
List-Unsubscribe: <https://minnie.tuhs.org/cgi-bin/mailman/options/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=unsubscribe>
List-Archive: <http://minnie.tuhs.org/pipermail/tuhs/>
List-Post: <mailto:tuhs@minnie.tuhs.org>
List-Help: <mailto:tuhs-request@minnie.tuhs.org?subject=help>
List-Subscribe: <https://minnie.tuhs.org/cgi-bin/mailman/listinfo/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=subscribe>
Errors-To: tuhs-bounces@minnie.tuhs.org
Sender: "TUHS" <tuhs-bounces@minnie.tuhs.org>

> Team Unix, Is there a Windows or Linux utility to create a disk image =
in any of the above formats, from a local folder tree? Paul *Paul Riley*

It seems you are asking for two tools in the BK-UNIX toolbox, fsutil and =
dskutil
https://github.com/sergev/bkunix/tree/master/fsutil
https://github.com/sergev/bkunix/tree/master/diskutil

The first generates a Unix 6th edition file system from a local =
directory tree. The result is a binary file with the 512 byte disk =
blocks stored in sequence. Maybe this is what SIMH needs, I=E2=80=99m =
not into the details of SIMH.

The second appears to be a tool to take the a file generated by the =
fsutil tool and split that into sectors and tracks. I=E2=80=99m not =
familiar with this tool, but it looks like you might need something =
similar (I assume that you have some way to hook up a 8=E2=80=9D drive =
to your PC?). Sector interleaving may be an issue to look out for.

When preparing a LSX system disk, you will need to think carefully about =
the layout:

Presumably the disk works with 128 byte sectors and 4 sectors are =
grouped together to create a 512 byte unix block. Check out the disk =
driver code for details:
https://www.tuhs.org/cgi-bin/utree.pl?file=3DLSX/sys/decfd.c

Block 0 contains bootstrap code which is loaded/called from the monitor =
rom (or from a short code sequence keyed in on a =E2=80=9Cblinkenpanel=E2=80=
=9D console).

The filesystem itself starts at block 1 and runs up to a block N (you =
need to tell fsutil how big the filesystem needs to be).

After block N up to the end of the disk is space to contain 2 swapped =
out programs plus 1 block for the return code of the third (default LSX =
has a maximum of 3 processes). You have to figure out how many 512 =
blocks are on your floppy and subtract out the swap space to arrive at a =
figure for N.

In the LSX source code =E2=80=99N=E2=80=99 is known as the define SWPLO, =
see param.h for details:
https://www.tuhs.org/cgi-bin/utree.pl?file=3DLSX/sys/param.h

In this file, 99 blocks are reserved for swap, corresponding to =
processes with 24KB memory; total disk size is defined as 500 blocks, =
250KB - note that this slightly exceeds the 241KB offered by the =
standard IBM 77 track 26 sector formatting for 8=E2=80=9D disks. =
Probably you will need to tweak the values in param.h

Be careful with size units in the source code. Often sizes are expressed =
in words (2 bytes). Where memory is concerned it is often expressed in =
=E2=80=98clicks=E2=80=99, 64 bytes.




