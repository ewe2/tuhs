From: erin@coffee.corliss.net (Erin W. Corliss)
Date: Sun, 3 Jan 1999 13:48:20 -0800 (PST)
Subject: Ancient SunOS source
In-Reply-To: <m31zlccgf1.fsf@trantor.cosmic.com>
Message-ID: <Pine.LNX.3.96.990103134337.31034A-100000@coffee.corliss.net>



On 3 Jan 1999, Mirian Crzig Lennox wrote:

> Last month, there was some discussion about getting Sun to release the
> sources to old SunOS 4.1 under the Ancient UNIX source licence.  I'm
> curious as to what progress has been made on that.  I'm
> enthusiastically looking forward to hopefully being able to run
> SunOS-4.1.3 with full source on an old Sun 3/80.

Have you tried the Sun 3 port of NetBSD?


Received: (from major at localhost)
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) id IAA02037
	for pups-liszt; Mon, 4 Jan 1999 08:53:45 +1100 (EST)
Received: from trantor.cosmic.com (xensei-PPP-0227.xensei.com [207.31.197.27])
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) with ESMTP id IAA02032
	for <pups at minnie.cs.adfa.oz.au>; Mon, 4 Jan 1999 08:53:33 +1100 (EST)
Received: (from mirian at localhost)
          by trantor.cosmic.com (8.8.7/8.8.4)
	  id QAA18338; Sun, 3 Jan 1999 16:52:17 -0500
From: Mirian Crzig Lennox <mirian@xensei.com>
To: "Erin W. Corliss" <erin at coffee.corliss.net>
Cc: pups at minnie.cs.adfa.oz.au
Subject: Re: Ancient SunOS source
References: <Pine.LNX.3.96.990103134337.31034A-100000 at coffee.corliss.net>
Original-Sender: mirian at xensei.com
Organization: The Cosmic Computing Corporation of Alpha Centauri
Date: 03 Jan 1999 16:52:16 -0500
In-Reply-To: "Erin W. Corliss"'s message of "Sun, 3 Jan 1999 13:48:20 -0800 (PST)"
Message-ID: <m3lnjk81nz.fsf at trantor.cosmic.com>
Lines: 20
Sender: owner-pups at minnie.cs.adfa.edu.au
Precedence: bulk

"Erin W. Corliss" <erin at coffee.corliss.net> writes:

> On 3 Jan 1999, Mirian Crzig Lennox wrote:
> 
> > Last month, there was some discussion about getting Sun to release the
> > sources to old SunOS 4.1 under the Ancient UNIX source licence.  I'm
> > curious as to what progress has been made on that.  I'm
> > enthusiastically looking forward to hopefully being able to run
> > SunOS-4.1.3 with full source on an old Sun 3/80.
> 
> Have you tried the Sun 3 port of NetBSD?

Oh, NetBSD is a very nice Berkeley UNIX, to sure...  I'm just looking
forward to being able to play around with good olde-fashioned SunOS.
Call it nostalgia, or something like that.  :)

-- 
Mirian Crzig Lennox                                Systems Anarchist
          "There's a New World Order coming every minute.
                      Make mine extra cheese."

Received: (from major at localhost)
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) id JAA02089
	for pups-liszt; Mon, 4 Jan 1999 09:09:47 +1100 (EST)
Received: from coffee.corliss.net (erin at coffee.gta-tech.com.121.7.12.in-addr.arpa [12.7.121.245] (may be forged))
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) with ESMTP id JAA02084
	for <pups at minnie.cs.adfa.oz.au>; Mon, 4 Jan 1999 09:09:38 +1100 (EST)
Received: from localhost (erin at localhost)
	by coffee.corliss.net (8.8.8/8.8.8) with SMTP id OAA31265
	for <pups at minnie.cs.adfa.oz.au>; Sun, 3 Jan 1999 14:11:30 -0800
Date: Sun, 3 Jan 1999 14:11:30 -0800 (PST)
From: "Erin W. Corliss" <erin@coffee.corliss.net>
To: pups at minnie.cs.adfa.oz.au
Subject: ...
Message-ID: <Pine.LNX.3.96.990103140148.31189A-100000 at coffee.corliss.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-pups at minnie.cs.adfa.edu.au
Precedence: bulk


Anyone care to comment on the likelihood of someone being able to modify
the kernel binary for Unix version 7 so that it treats a 60 megabyte RD52
drive like an array of six RL drives?

I looked at the device-specific assembly code in boot blocks for the two
drives and it seems that besides the geometry they're pretty similar...  I
assume, of course, that the binary license doesn't allow me to disassemble
or modify the kernel, tho.

I also recently solved the disk image dilemma -- I made a utility in
Visual Basic that lets you examine, import, and export files on various
disk images.  The disk-specific parts are in interchangeable ActiveX
modules -- right now I only have code for RK06 disk images with Unix 6 or
RSTS file systems, but the model is easily expandable to any
drive/filesystem combination.  I'll put it on my web site if anyone's
interested...



Received: (from major at localhost)
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) id KAA02281
	for pups-liszt; Mon, 4 Jan 1999 10:19:04 +1100 (EST)
Received: from allegro.lemis.com (allegro.lemis.com [192.109.197.134])
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) with ESMTP id KAA02276
	for <pups at minnie.cs.adfa.oz.au>; Mon, 4 Jan 1999 10:18:38 +1100 (EST)
Received: from freebie.lemis.com (freebie.lemis.com [192.109.197.137])
	by allegro.lemis.com (8.9.1/8.9.0) with ESMTP id JAA29033;
	Mon, 4 Jan 1999 09:48:05 +1030 (CST)
Received: (from grog at localhost)
	by freebie.lemis.com (8.9.1/8.9.0) id JAA70032;
	Mon, 4 Jan 1999 09:48:07 +1030 (CST)
Message-ID: <19990104094807.X66110 at freebie.lemis.com>
Date: Mon, 4 Jan 1999 09:48:07 +1030
From: Greg Lehey <grog@lemis.com>
To: wkt at cs.adfa.oz.au, Unix Heritage Society <pups at minnie.cs.adfa.oz.au>
Subject: Re: Yet Another Apout Version
References: <199901031151.WAA26388 at henry.cs.adfa.oz.au>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.91.1i
In-Reply-To: <199901031151.WAA26388 at henry.cs.adfa.oz.au>; from Warren Toomey on Sun, Jan 03, 1999 at 10:51:45PM +1100
WWW-Home-Page: http://www.lemis.com/~grog
Organization: LEMIS, PO Box 460, Echunga SA 5153, Australia
Phone: +61-8-8388-8286
Fax: +61-8-8388-8725
Mobile: +61-41-739-7062
Sender: owner-pups at minnie.cs.adfa.edu.au
Precedence: bulk

On Sunday,  3 January 1999 at 22:51:45 +1100, Warren Toomey wrote:
> Hmm,
> 	The tarball of Apout that I put up for ftp had a file missing,
> and a serious bug which caused 2.11BSD ls -l to go into an infinite loop.
> I've removed this version and placed a new version of Apout in:
>
> 	ftp://minnie.cs.adfa.edu.au/pub/PDP-11/Sims/Apout/
>
> Things are looking good. With a small bit of manual help, I was
> able to run make in 2.11BSD /usr/src/bin, which rebuilds all of
> the binaries in /bin.

How long did it take, on what kind of machine?

Greg
--
See complete headers for address, home page and phone numbers
finger grog at lemis.com for PGP public key

Received: (from major at localhost)
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) id LAA02475
	for pups-liszt; Mon, 4 Jan 1999 11:24:26 +1100 (EST)
Received: from moe.2bsd.com (0 at MOE.2BSD.COM [206.139.202.200])
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) with ESMTP id LAA02469
	for <pups at minnie.cs.adfa.oz.au>; Mon, 4 Jan 1999 11:24:16 +1100 (EST)
Received: (from sms at localhost)
	by moe.2bsd.com (8.9.0/8.9.0) id QAA18722
	for pups at minnie.cs.adfa.oz.au; Sun, 3 Jan 1999 16:18:11 -0800 (PST)
Date: Sun, 3 Jan 1999 16:18:11 -0800 (PST)
From: "Steven M. Schultz" <sms@moe.2bsd.com>
Message-Id: <199901040018.QAA18722 at moe.2bsd.com>
To: pups at minnie.cs.adfa.oz.au
Subject: Re: ...
Sender: owner-pups at minnie.cs.adfa.edu.au
Precedence: bulk

Hi -

> From: "Erin W. Corliss" <erin at coffee.corliss.net>
> 
> Anyone care to comment on the likelihood of someone being able to modify
> the kernel binary for Unix version 7 so that it treats a 60 megabyte RD52
> drive like an array of six RL drives?

	Not likely at all.  Completely different controllers - the only
	similarity between an RL controller and an MSCP (RQDX3 for example)
	controller lies in their both being Qbus cards and disks are attached
	to them.   The RL is about as smart as a rock - it can't even do
	spiral reads/writes (even the RK05 could do that), so there's code
	present to break transfers up into multiple pieces if cylinder and side
	boundaries are crossed.  Also the RL is a "traditional" device in
	that the driver calculates sector/track/cylinder and stuffs those
	values into registers.  With MSCP you have to build command and response
	ring buffers, fill in a packet with rather badly documented values,
	and then poke the controller to go look for its new packet.  The
	geometry calculations are done in the controller not the driver.
	The only concept of geometry that MSCP drivers have is "how many
	sectors does the drive have" (and even then that value's only used to
	pretty print something when the drive is first accessed) - somewhat 
	like SCSI in that aspect.

	Then too the RD52 is 30MB (sect/trak = 18, tracks/cyl = 7, cyl = 480).
	The RD53 is ~70mb and the RD54 is ~159mb.

	It'd be easier to add an MSCP driver to V7 than it would be
	to try and do binary edits on the RL driver to support non-RL devices.
	Ick. 

> I looked at the device-specific assembly code in boot blocks for the two
> drives and it seems that besides the geometry they're pretty similar...  I

	They're about as different as can be.  I think you were lulled into
	thinking they're similar by the fact that most of the bootblock is
	"boiler plate" (the filesystem search code to look for /boot).  The
	part that deals with the device is small but quite dissimilar.

	The bootblock is the least/smallest part of the problem.  All the boot-
	block does is load /boot - and that's where you need a more fullfeatured
	(but still not as full as the kernel's) driver.  Then once there's
	a standalone driver for a device in /boot then, and only then, does
	the kernel become involved (at which time a full driver is needed).

> assume, of course, that the binary license doesn't allow me to disassemble
> or modify the kernel, tho.

	The A.U. license provides full up source - no need to disassemble 
	anything - that can be modified to whatever extent is desired.  That
	won't solve the problem of getting a MSCP driver into V7 unless one
	can do the development work using a simulator.

	Steven Schultz

Received: (from major at localhost)
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) id GAA06247
	for pups-liszt; Tue, 5 Jan 1999 06:48:52 +1100 (EST)
Received: from mercury.Sun.COM (mercury.Sun.COM [192.9.25.1])
	by minnie.cs.adfa.edu.au (8.9.1/8.9.1) with SMTP id GAA06242
	for <pups at minnie.cs.adfa.oz.au>; Tue, 5 Jan 1999 06:48:42 +1100 (EST)
Received: from Corp.Sun.COM ([129.145.35.78]) by mercury.Sun.COM (SMI-8.6/mail.byaddr) with SMTP id LAA18859; Mon, 4 Jan 1999 11:48:02 -0800
Received: from vrytekai.Corp.Sun.COM by Corp.Sun.COM (SMI-8.6/SMI-5.3)
	id LAA14535; Mon, 4 Jan 1999 11:48:01 -0800
Received: from vrytekai (vrytekai [129.145.71.165])
	by vrytekai.Corp.Sun.COM (8.9.1b+Sun/8.9.1) with SMTP id LAA05888;
	Mon, 4 Jan 1999 11:47:03 -0800 (PST)
Message-Id: <199901041947.LAA05888 at vrytekai.Corp.Sun.COM>
Date: Mon, 4 Jan 1999 11:47:03 -0800 (PST)
From: Billy Stivers <alyosha@vrytekai.Corp.Sun.COM>
Reply-To: Billy Stivers <alyosha at vrytekai.Corp.Sun.COM>
Subject: Re: Ancient SunOS source
To: erin at coffee.corliss.net, mirian at xensei.com
Cc: pups at minnie.cs.adfa.oz.au
MIME-Version: 1.0
Content-Type: TEXT/plain; charset=us-ascii
Content-MD5: 7SK+ImZBXKMmaeX/roFFdg==
X-Mailer: dtmail 1.3.0 CDE Version 1.3 SunOS 5.7 sun4u sparc 
Sender: owner-pups at minnie.cs.adfa.edu.au
Precedence: bulk

These efforts aren't dead. :) They just took vacation with me, for the
last week and a half or so.  I'll try to report some news sometime during
the following week or two, though with the mess of work that popped
up in my absence, I'm not sure whether I'd be that optimistic. :/

	--Billy
	
>From: Mirian Crzig Lennox <mirian at xensei.com>
>To: "Erin W. Corliss" <erin at coffee.corliss.net>
>Cc: pups at minnie.cs.adfa.oz.au
>Subject: Re: Ancient SunOS source
>Original-Sender: mirian at xensei.com
>Date: 03 Jan 1999 16:52:16 -0500
>
>"Erin W. Corliss" <erin at coffee.corliss.net> writes:
>
>> On 3 Jan 1999, Mirian Crzig Lennox wrote:
>> 
>> > Last month, there was some discussion about getting Sun to release the
>> > sources to old SunOS 4.1 under the Ancient UNIX source licence.  I'm
>> > curious as to what progress has been made on that.  I'm
>> > enthusiastically looking forward to hopefully being able to run
>> > SunOS-4.1.3 with full source on an old Sun 3/80.
>> 
>> Have you tried the Sun 3 port of NetBSD?
>
>Oh, NetBSD is a very nice Berkeley UNIX, to sure...  I'm just looking
>forward to being able to play around with good olde-fashioned SunOS.
>Call it nostalgia, or something like that.  :)
>
>-- 
>Mirian Crzig Lennox                                Systems Anarchist
>          "There's a New World Order coming every minute.
>                      Make mine extra cheese."

----------------------------------------------------------------------
A "No" uttered from deepest conviction is better and greater than a
"Yes" merely uttered to please, or what is worse, to avoid trouble.
                -- Mahatma Gandhi



