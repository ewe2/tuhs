Return-Path: <tuhs-bounces@minnie.tuhs.org>
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on inbox.vuxu.org
X-Spam-Level: 
X-Spam-Status: No, score=-0.8 required=5.0 tests=DKIM_SIGNED,DKIM_VALID,
	DKIM_VALID_AU,HEADER_FROM_DIFFERENT_DOMAINS,HTML_MESSAGE,
	MAILING_LIST_MULTI,RCVD_IN_DNSWL_NONE autolearn=ham autolearn_force=no
	version=3.4.2
Received: from minnie.tuhs.org (minnie.tuhs.org [45.79.103.53])
	by inbox.vuxu.org (OpenSMTPD) with ESMTP id 9f0b0493
	for <ml@inbox.vuxu.org>;
	Thu, 19 Dec 2019 00:20:53 +0000 (UTC)
Received: by minnie.tuhs.org (Postfix, from userid 112)
	id DF63A9BC26; Thu, 19 Dec 2019 10:20:52 +1000 (AEST)
Received: from minnie.tuhs.org (localhost [127.0.0.1])
	by minnie.tuhs.org (Postfix) with ESMTP id D2CC59BBF9;
	Thu, 19 Dec 2019 10:20:29 +1000 (AEST)
Authentication-Results: minnie.tuhs.org;
	dkim=pass (1024-bit key; unprotected) header.d=planet.nl header.i=@planet.nl header.b="APWBmbdJ";
	dkim-atps=neutral
Received: by minnie.tuhs.org (Postfix, from userid 112)
 id AFFAF9BBF9; Thu, 19 Dec 2019 10:20:22 +1000 (AEST)
Received: from cpsmtpb-ews06.kpnxchange.com (cpsmtpb-ews06.kpnxchange.com
 [213.75.39.9]) by minnie.tuhs.org (Postfix) with ESMTP id BAA399B92E
 for <tuhs@minnie.tuhs.org>; Thu, 19 Dec 2019 10:20:20 +1000 (AEST)
Received: from cpsps-ews27.kpnxchange.com ([10.94.84.193]) by
 cpsmtpb-ews06.kpnxchange.com with Microsoft SMTPSVC(7.5.7601.17514); 
 Thu, 19 Dec 2019 01:20:19 +0100
X-Brand: 7abm2Q==
X-KPN-SpamVerdict: e1=0;e2=0;e3=0;e4=(e1=10;e3=10;e2=11;e4=10);EVW:Whi
 te;BM:NotScanned;FinalVerdict:Clean
X-CMAE-Analysis: v=2.3 cv=YbfDGDZf c=1 sm=1 tr=0 cx=a_idp_e
 a=dZ5u/0G9QtS9WKCcNUBnHQ==:117 a=soxbC+bCkqwFbqeW/W/r+Q==:17
 a=jpOVt7BSZ2e4Z31A5e1TngXxSK0=:19 a=x1i13A_MHe4A:10 a=pxVhFHJ0LMsA:10
 a=cggplEk1AAAA:8 a=8zvtdvGnAAAA:8 a=UxsAKQ9BAAAA:8
 a=a-gnvHiv817n45FmkLEA:9 a=QEXdDO2ut3YA:10 a=9LIKAnKgWzagveUe:21
 a=_W_S_7VecoQA:10 a=TyGOKPG1VZVQ-HZz1HdS:22 a=Q-xCa1abX5qBlSYUmlcr:22
 a=d_mXNDjUptLsIMHJEirF:22
X-CM-AcctID: kpn@feedback.cloudmark.com
Received: from smtp.kpnmail.nl ([195.121.84.13]) by cpsps-ews27.kpnxchange.com
 over TLS secured channel with Microsoft SMTPSVC(8.5.9600.16384); 
 Thu, 19 Dec 2019 01:20:19 +0100
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=planet.nl; s=planet01;
 h=to:date:subject:mime-version:content-type:message-id:from;
 bh=LATww/LPGKWDUyPiUkdMhTacHRlQAeagYqrqcVaYxGY=;
 b=APWBmbdJaJn0jP7XgPSXYSvKa1To6zv1KppgEYb3Co6OWRA6AwuagTzpyLOxPE7yDJGhES1QUfepY
 gqcwR+RiSs/sIUvfsw0rghwFzvoYW0s5qVIcyH8DE+Ser4HjruJiY+z9KhAGfVBeHP+kdpz2scciaY
 hCNpvRCBb4sH6Yt8=
X-KPN-VerifiedSender: Yes
X-CMASSUN: 33|oN0QwkMfl6He0fIbFqyaWl1smyRkYR/fNmvSoTPJOkK4cR+8zOYHw8GTRqhImhO
 Z7/NracLAwvig8eMkFJEX3w==
X-Originating-IP: 80.101.112.122
Received: from mba1.fritz.box (unknown [80.101.112.122])
 by smtp.kpnmail.nl (Halon) with ESMTPSA
 id 567b7d25-21f5-11ea-b3da-005056998788;
 Thu, 19 Dec 2019 01:20:19 +0100 (CET)
From: Paul Ruizendaal <pnr@planet.nl>
Message-Id: <744AB73C-9970-450E-8B1A-5BACF9FE3E11@planet.nl>
Content-Type: multipart/alternative;
 boundary="Apple-Mail=_7B565711-124A-4039-AD2E-FEC179623E07"
Mime-Version: 1.0 (Mac OS X Mail 11.5 \(3445.9.1\))
Date: Thu, 19 Dec 2019 01:20:18 +0100
In-Reply-To: <6be1d013-2323-9850-03fd-c4014c4a69e7@e-bbes.com>
To: emanuel stiebler <emu@e-bbes.com>
References: <D27BDF93-38A2-4C82-ADAB-4847F95D67A0@planet.nl>
 <6be1d013-2323-9850-03fd-c4014c4a69e7@e-bbes.com>
X-Mailer: Apple Mail (2.3445.9.1)
X-OriginalArrivalTime: 19 Dec 2019 00:20:19.0505 (UTC)
 FILETIME=[1887F210:01D5B602]
X-RcptDomain: minnie.tuhs.org
Subject: Re: [TUHS] Blit source
X-BeenThere: tuhs@minnie.tuhs.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: The Unix Heritage Society mailing list <tuhs.minnie.tuhs.org>
List-Unsubscribe: <https://minnie.tuhs.org/cgi-bin/mailman/options/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=unsubscribe>
List-Archive: <http://minnie.tuhs.org/pipermail/tuhs/>
List-Post: <mailto:tuhs@minnie.tuhs.org>
List-Help: <mailto:tuhs-request@minnie.tuhs.org?subject=help>
List-Subscribe: <https://minnie.tuhs.org/cgi-bin/mailman/listinfo/tuhs>,
 <mailto:tuhs-request@minnie.tuhs.org?subject=subscribe>
Cc: TUHS main list <tuhs@minnie.tuhs.org>
Errors-To: tuhs-bounces@minnie.tuhs.org
Sender: "TUHS" <tuhs-bounces@minnie.tuhs.org>


--Apple-Mail=_7B565711-124A-4039-AD2E-FEC179623E07
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8


> On Dec 16, 2019, at 7:25 AM, emanuel stiebler <emu@e-bbes.com> wrote:
>=20
> On 2019-12-15 21:45, Paul Ruizendaal wrote:
>> I=E2=80=99m looking for source code of the original Blit as described =
here:
>> http://doc.cat-v.org/bell_labs/blit/blit.pdf
>=20
> Thanks for trying again. It pops up on this list every few years, but
> still no schematics (2002, 2012) ...
>=20
> Cheers

Have you seen the 5620 schematics on bitsavers?

http://bitsavers.org/pdf/att/5620/schematic/5620_logic.pdf =
<http://bitsavers.org/pdf/att/5620/schematic/5620_logic.pdf>

Of course it is not the Blit schematics, but it looks like a close =
derivative. When comparing the Hardware & Software Tradeoffs paper with =
the schematics and the theory of operation notes at the back, it would =
seem to me that much of it is (near) identical to the 68K Blit.

- The video timing circuit was probably identical (also see the figures =
at the back with exact timing specifications).
- The memory grid was probably (near) identical - maybe changed slightly =
for the option to use 256Kx1 drams.
- The arbitration circuit may have been redesigned, but it looks like =
the bus arbitration of the M68K was not all that different from the =
Bellmac. A memory cycle takes 11 ticks of the 32.7 MHz pixel clock, or =
about 335ns. This is consistent with the numbers mentioned in the Blit =
papers (e.g. the display using about 30% of memory bandwidth, etc.).
- The mouse movement circuit appears unchanged from the Blit paper, with =
a two-phase motion signal counted for the first 4 bits in a PAL and the =
rest in a TTL counter

Some things are of course different (beyond the different CPU). The 5620 =
has an I/O expansion port and a bit of non-volatile memory, neither of =
which is mentioned in the Blit papers. The memory map is totally =
different and the protection for null pointer dereference appears gone.

The 2x 6850 UART appears to be replaced by a single 2681 programmable =
DUART. The button signals are routed through the additional parallel I/O =
bits that this chip provides, which also takes care of interrupt =
generation. According to the Blit papers there were several other =
versions of the Blit before the final design was arrived upon. Maybe =
earlier designs used a 2681 DUART as well, or its close cousin SCN68681. =
Maybe the earlier version of button.c could work with both. If this is =
true, it would stand to reason that the various features of the =
2681/68681 were replicated with the two 6850=E2=80=99s and some =
supporting circuitry. This hypothesis seems to fit with some of aiju=E2=80=
=99s observations in the =E2=80=9Cmmap=E2=80=9D information file =
included with the Blit emulator (e.g. accessing register 25 and 27, the =
timer/counter and its use for sound generation).

The Blit promotional video that AT&T put on youtube in 2012 has a brief =
shot (at 0:45) of the logic board. This appears to show two 24 pin =
packages in the bottom center of the board, which are in all likelihood =
the 6850=E2=80=99s. There is no 40 pin package (i.e. no 2681/68681 chip) =
on that board.


--Apple-Mail=_7B565711-124A-4039-AD2E-FEC179623E07
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=utf-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; =
charset=3Dutf-8"></head><body style=3D"word-wrap: break-word; =
-webkit-nbsp-mode: space; line-break: after-white-space;" class=3D""><br =
class=3D""><div><blockquote type=3D"cite" class=3D""><div class=3D"">On =
Dec 16, 2019, at 7:25 AM, emanuel stiebler &lt;<a =
href=3D"mailto:emu@e-bbes.com" class=3D"">emu@e-bbes.com</a>&gt; =
wrote:</div><br class=3D"Apple-interchange-newline"><div class=3D""><div =
class=3D"">On 2019-12-15 21:45, Paul Ruizendaal wrote:<br =
class=3D""><blockquote type=3D"cite" class=3D"">I=E2=80=99m looking for =
source code of the original Blit as described here:<br class=3D""><a =
href=3D"http://doc.cat-v.org/bell_labs/blit/blit.pdf" =
class=3D"">http://doc.cat-v.org/bell_labs/blit/blit.pdf</a><br =
class=3D""></blockquote><br class=3D"">Thanks for trying again. It pops =
up on this list every few years, but<br class=3D"">still no schematics =
(2002, 2012) ...<br class=3D""><br class=3D"">Cheers<br =
class=3D""></div></div></blockquote></div><br class=3D""><div =
class=3D"">Have you seen the 5620 schematics on bitsavers?</div><div =
class=3D""><br class=3D""></div><div class=3D""><a =
href=3D"http://bitsavers.org/pdf/att/5620/schematic/5620_logic.pdf" =
class=3D"">http://bitsavers.org/pdf/att/5620/schematic/5620_logic.pdf</a><=
/div><div class=3D""><br class=3D""></div><div class=3D"">Of course it =
is not the Blit schematics, but it looks like a close derivative. When =
comparing the Hardware &amp; Software Tradeoffs paper with the =
schematics and the theory of operation notes at the back, it would seem =
to me that much of it is (near) identical to the 68K Blit.</div><div =
class=3D""><br class=3D""></div><div class=3D"">- The video timing =
circuit was probably identical (also see the figures at the back with =
exact timing specifications).</div><div class=3D"">- The memory grid was =
probably (near) identical - maybe changed slightly for the option to use =
256Kx1 drams.</div><div class=3D"">- The arbitration circuit may have =
been redesigned, but it looks like the bus arbitration of the M68K was =
not all that different from the Bellmac. A memory cycle takes 11 ticks =
of the 32.7 MHz pixel clock, or about 335ns. This is consistent with the =
numbers mentioned in the Blit papers (e.g. the display using about 30% =
of memory bandwidth, etc.).</div><div class=3D"">- The mouse movement =
circuit appears unchanged from the Blit paper, with a two-phase motion =
signal counted for the first 4 bits in a PAL and the rest in a TTL =
counter</div><div class=3D""><br class=3D""></div><div class=3D"">Some =
things are of course different (beyond the different CPU). The 5620 has =
an I/O expansion port and a bit of non-volatile memory, neither of which =
is mentioned in the Blit papers. The memory map is totally different and =
the protection for null pointer dereference appears gone.</div><div =
class=3D""><br class=3D""></div><div class=3D"">The 2x 6850 UART appears =
to be replaced by a single 2681 programmable DUART. The button signals =
are routed through the additional parallel I/O bits that this chip =
provides, which also takes care of interrupt generation. According to =
the Blit papers there were several other versions of the Blit before the =
final design was arrived upon. Maybe earlier designs used a 2681 DUART =
as well, or its close cousin&nbsp;SCN68681. Maybe the earlier version of =
button.c could work with both. If this is true, it would stand to reason =
that the various features of the 2681/68681 were replicated with the two =
6850=E2=80=99s and some supporting circuitry. This hypothesis seems to =
fit with some of aiju=E2=80=99s observations in the =E2=80=9Cmmap=E2=80=9D=
 information file included with the Blit emulator (e.g. accessing =
register 25 and 27, the timer/counter and its use for sound =
generation).</div><div class=3D""><br class=3D""></div><div class=3D"">The=
 Blit promotional video that AT&amp;T put on youtube in 2012 has a brief =
shot (at 0:45) of the logic board. This appears to show two 24 pin =
packages in the bottom center of the board, which are in all likelihood =
the 6850=E2=80=99s. There is no 40 pin package (i.e. no 2681/68681 chip) =
on that board.</div><div class=3D""><br class=3D""></div></body></html>=

--Apple-Mail=_7B565711-124A-4039-AD2E-FEC179623E07--
