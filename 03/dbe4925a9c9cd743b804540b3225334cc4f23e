From: P.A.Osborne@ukc.ac.uk (P.A.Osborne)
Date: Thu, 31 Jan 2002 10:26:49 +0000
Subject: [TUHS] Re: Porting Unix v6 to i386
In-Reply-To: <Pine.LNX.4.21.0201302047470.29712-100000@Tempo.Update.UU.SE>; from bqt@update.uu.se on Wed, Jan 30, 2002 at 08:50:31PM +0100
References: <02013019004900.00631@linux> <Pine.LNX.4.21.0201302047470.29712-100000@Tempo.Update.UU.SE>
Message-ID: <20020131102649.B19170@apple.ukc.ac.uk>

On Wed, Jan 30, 2002 at 08:50:31PM +0100, Johnny Billquist wrote:
> On Wednesday 30 January 2002 10:18, P.A.Osborne wrote:
> > Having had a rummage and a chat with acolleague here at
> > UKC - it seems that V6 will be easier than V7,  partially because
> > of the Lions commentary - but mainly because 286 protected mode
> > gives a very similar handling on memory management as the PDP did.
> 
> What a silly argument. 
> V6 and V7 both run on the PDP-11, so the memory
> management hardware used by them both are the same.

Having looked through the source of v6 and v7  the comments are shall
we say minimalistic to people who are not as familiar with the PDP 
architecture as say Ritchie and Thompson - ie ME!   Hence the Lions
commentary makes life a darn site easier.

I am not disagreeing with the second point you have made.   However the
point is that V7 is a development on from V6 and the memory management 
is more complex and thus requires more work.

> And while I'm not familiar with the 286 protected mode, I have heard
> people before claim that it is horrendous compared to the MMU on the
> PDP-11.

I have heard similar,  however the point remains that attempting to
port the simpler model is going to be less work that porting the more
complex model.

At the end of the day porting V6 has been something that I have considered
for almost a couple of years now,  but time has been lacking.  Now that
I have time I am going to be able to do some work.   If someone hadn't 
raised the question of porting on this mailing list then I would 
probably not mentioned what I am considering at all.

Why do I want to do this? :
1.  To improve my understanding of how OSs work
2.  To improve my very shaky intel assembler skills
3.  Because I can

If out of it I (or anyone else for that matter) produces 10 lines of
code that prove benefit to the community (on this list) then its been
worth any effort even if we dont see v6(or 7) running on a PC.

Regards

Paul


