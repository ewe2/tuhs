From: lm@mcvoy.com (Larry McVoy)
Date: Tue, 10 Jan 2017 10:42:03 -0800
Subject: [TUHS] the guy who brought up SVr4 on Sun machines
In-Reply-To: <CANCZdfqX1fXhq1csooG3B1PMQXzmfT=qxWTVXY_RF_M5HhXKMw@mail.gmail.com>
References: <79091EE2-D7F8-4BE2-9422-47C365780367@berwynlodge.com>
 <587509e1.gGhkbfCz1YmUYkqT%schily@schily.net>
 <CANCZdfqmRnRQRktCz_84OpYWqriQVYASYxQ4jc5qBteqzY2e8Q@mail.gmail.com>
 <20170110182853.GR8099@mcvoy.com>
 <CANCZdfqX1fXhq1csooG3B1PMQXzmfT=qxWTVXY_RF_M5HhXKMw@mail.gmail.com>
Message-ID: <20170110184203.GS8099@mcvoy.com>

On Tue, Jan 10, 2017 at 10:33:59AM -0800, Warner Losh wrote:
> On Tue, Jan 10, 2017 at 10:28 AM, Larry McVoy <lm at mcvoy.com> wrote:
> > On Tue, Jan 10, 2017 at 09:47:28AM -0800, Warner Losh wrote:
> >> On Tue, Jan 10, 2017 at 8:20 AM, Joerg Schilling <schily at schily.net> wrote:
> >> > Berny Goodheart <berny at berwynlodge.com> wrote:
> >> >
> >> >> Here???s the breakdown of SVR4 kernel lineage as I recall it. I am pretty sure this is correct. But I am sure many of you will put me right if I am wrong ;)
> >> >>
> >> >> From BSD:
> >> >> TCP/IP                        <=== NO, Svr4 uses a STREAMS based TCP/IP stack
> >>
> >> svr4's stack is derived from BSD with a STREAMS packaging. These files
> >> were listed as "in AT&T's code w/o BSD headers" in the countersuit for
> >> the infamous AT&T lawsuit.
> >
> > Yeah, I think Convergent did the STREAMS packaging, then Lachman bought
> > the stack, I ported it twice (ETA & SCO), then I believe it was Bill
> > Coleman (not positive on the name, it was the VP of networking) at Sun
> > that bought rights to the stack from Lachman under pretty unfavorable
> > terms, then Sun got unhappy with the terms (and the performance),
> > contracted with Mentat to do a new stack and I think that stack is what
> > remains in Solaris.
> 
> I did some work on the Lachman stack for sysvr4 machines at Wollongong
> in 89 or so as well... It was very BSDish code that had been involved
> in a horrific traffic accident and rebuilt in a STREAMS framework. I'm
> not at all surprised that it didn't scale, because at the time it
> barely worked...

Yup, been there, lived that.  Until Mentat came along it was the only game
in town.  I don't normally tell people I'm the guy that gave SCO networking
because it "barely worked" as you say.

I did get SCO to ship sw (STREAMS watch) that was sort of like a top for
STREAMS - it was useful to run this while beating on the stack and then
go tune the internal limits for better performance.  I can't imagine
anyone wants this any more, or if it even runs, but it's my copyright
and I stuck a copy in http://mcvoy.com/lm/sw.shar


